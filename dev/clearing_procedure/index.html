<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Clearing Formulation · IARA.jl</title><meta name="title" content="Clearing Formulation · IARA.jl"/><meta property="og:title" content="Clearing Formulation · IARA.jl"/><meta property="twitter:title" content="Clearing Formulation · IARA.jl"/><meta name="description" content="Documentation for IARA.jl."/><meta property="og:description" content="Documentation for IARA.jl."/><meta property="twitter:description" content="Documentation for IARA.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="IARA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">IARA.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">About IARA</a></li><li><span class="tocitem">Getting started</span><ul><li><a class="tocitem" href="../tutorial/first_execution/">My first execution</a></li></ul></li><li><span class="tocitem">Conceptual overview</span><ul><li><a class="tocitem" href="../key_features/">Key features of IARA</a></li><li><a class="tocitem" href="../clearing_process/">The market clearing structure</a></li><li><a class="tocitem" href="../hydro_challenges/">Hydro reservoirs, cascades and virtual reservoirs</a></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox" checked/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Formulations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../conceptual_formulation/">Conceptual formulations</a></li><li><a class="tocitem" href="../centralized_operation_problem/">Centralized operation problem</a></li><li><a class="tocitem" href="../price_taker_problem/">Price taker problem</a></li><li><a class="tocitem" href="../strategic_bid_problem/">Strategic bid problem</a></li><li><input class="collapse-toggle" id="menuitem-3-4-5" type="checkbox" checked/><label class="tocitem" for="menuitem-3-4-5"><span class="docs-label">Market clearing problem</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../market_clearing_problem/">Market Clearing Problem</a></li><li class="is-active"><a class="tocitem" href>Clearing Formulation</a><ul class="internal"><li><a class="tocitem" href="#Ex-Ante"><span>Ex-Ante</span></a></li><li><a class="tocitem" href="#Ex-Ante-Physical"><span>Ex-Ante Physical</span></a></li><li><a class="tocitem" href="#Ex-Ante-Commercial"><span>Ex-Ante Commercial</span></a></li><li><a class="tocitem" href="#Ex-Post"><span>Ex-Post</span></a></li><li><a class="tocitem" href="#Ex-Post-Physical"><span>Ex-Post Physical</span></a></li><li><a class="tocitem" href="#Ex-Post-Commercial"><span>Ex-Post Commercial</span></a></li><li><a class="tocitem" href="#Model-Clearing-model-types"><span>Model Clearing model types</span></a></li></ul></li></ul></li></ul></li></ul></li><li><span class="tocitem">Use guides and tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Building a case from scratch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../build_a_case_from_scratch/">Introduction</a></li><li><a class="tocitem" href="../tutorial/case_01_build_base_case/">Case creation example</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Manipulating bid data</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../bidding_formats/">Introduction</a></li><li><a class="tocitem" href="../tutorial/case_03_build_profile_base_case/">Profile bids example</a></li><li><a class="tocitem" href="../tutorial/case_04_build_multi_min_activation/">Minimum activation bids example</a></li><li><a class="tocitem" href="../tutorial/case_05_build_reservoir_case/">Virtual reservoir example</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Structuring the policy graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../intro_policy_graph/">Introduction</a></li><li><a class="tocitem" href="../tutorial/case_06_build_policy_graph/">Policy graphs example: building</a></li><li><a class="tocitem" href="../tutorial/case_06_run_policy_graph/">Policy graphs example: running</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Custom Plots</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../tutorial/plots_tutorial/">Plotting</a></li></ul></li></ul></li><li><span class="tocitem">Contributing</span><ul><li><a class="tocitem" href="../contributing/">How to contribute</a></li><li><a class="tocitem" href="../development_guides/">Developer guides</a></li></ul></li><li><a class="tocitem" href="../api_reference/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Conceptual overview</a></li><li><a class="is-disabled">Formulations</a></li><li><a class="is-disabled">Market clearing problem</a></li><li class="is-active"><a href>Clearing Formulation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Clearing Formulation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/psrenergy/IARA.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Clearing-Formulation"><a class="docs-heading-anchor" href="#Clearing-Formulation">Clearing Formulation</a><a id="Clearing-Formulation-1"></a><a class="docs-heading-anchor-permalink" href="#Clearing-Formulation" title="Permalink"></a></h1><p>The Market Clearing is subdivided into four steps: Ex-Ante Physical, Ex-Ante Commercial, Ex-post Physical, and Ex-post Commercial.</p><h2 id="Ex-Ante"><a class="docs-heading-anchor" href="#Ex-Ante">Ex-Ante</a><a id="Ex-Ante-1"></a><a class="docs-heading-anchor-permalink" href="#Ex-Ante" title="Permalink"></a></h2><p>The Ex-Ante step is responsible for calculating the physical and commercial dispatches one day before the actual operation. The Ex-Ante step is divided into two steps: Ex-Ante Physical and Ex-Ante Commercial.  In the Virtual Reservoir, the allocation of predicted inflows for this agent is added to its balance.</p><h2 id="Ex-Ante-Physical"><a class="docs-heading-anchor" href="#Ex-Ante-Physical">Ex-Ante Physical</a><a id="Ex-Ante-Physical-1"></a><a class="docs-heading-anchor-permalink" href="#Ex-Ante-Physical" title="Permalink"></a></h2><p>The Ex-Ante Physical step is responsible for calculating the physical generation amount that will be dispatched a day before the actual operation. The physical units are calculated based on the bids submitted by the agents and the constraints of the system. In the Virtual Reservoir, the allocation of predicted inflows for this agent is added to its balance. In this problem, the Market Clearing is calculated with all integer variables, and the result will generally be used in other subsequent problems.</p><h2 id="Ex-Ante-Commercial"><a class="docs-heading-anchor" href="#Ex-Ante-Commercial">Ex-Ante Commercial</a><a id="Ex-Ante-Commercial-1"></a><a class="docs-heading-anchor-permalink" href="#Ex-Ante-Commercial" title="Permalink"></a></h2><p>The Ex-Ante Commercial step is responsible for calculating the clearing prices of the day-ahead market.</p><p>To calculate the prices there are three options:</p><ol><li>MIP that fixes variables and then runs with them fixed.</li><li>LP that receives variables to be fixed from a previous problem: it can only receive the binary variables from the ex-ante physical problem.</li><li>LP that runs relaxed.</li></ol><h2 id="Ex-Post"><a class="docs-heading-anchor" href="#Ex-Post">Ex-Post</a><a id="Ex-Post-1"></a><a class="docs-heading-anchor-permalink" href="#Ex-Post" title="Permalink"></a></h2><p>In ex-post problems, a set of sub-scenarios is created for each scenario verified in the ex-ante, representing shocks that simulate real-time variations.</p><p>The first sub-scenario calculated in the ex-post is used to transmit the state variable information and the virtual reservoir balance to the next period.</p><p>At a given period, the Virtual Reservoir balance is added to the ex-post inflow allocation for this agent in its balance, and the offers accepted by the Operator are debited. After this operation, an adjustment can be made so that the Virtual Reservoir balance equals the Available Energy of the hydros that make up this reservoir.</p><h2 id="Ex-Post-Physical"><a class="docs-heading-anchor" href="#Ex-Post-Physical">Ex-Post Physical</a><a id="Ex-Post-Physical-1"></a><a class="docs-heading-anchor-permalink" href="#Ex-Post-Physical" title="Permalink"></a></h2><p>The Ex-Post Physical step is responsible for calculating the physical generation amount that will be dispatched in real-time. The physical units are calculated based on the bids submitted by the agents and the constraints of the system. In the Virtual Reservoir, the allocation of inflows for this agent is added to its balance.</p><p>The binary variable can be treated as follows:</p><ol><li>MIP that fixes variables and then runs with them fixed.</li><li>LP that receives variables to be fixed from a previous problem: the binary variables from the ex-ante physical or commercial problem.</li><li>LP that runs relaxed.</li></ol><h2 id="Ex-Post-Commercial"><a class="docs-heading-anchor" href="#Ex-Post-Commercial">Ex-Post Commercial</a><a id="Ex-Post-Commercial-1"></a><a class="docs-heading-anchor-permalink" href="#Ex-Post-Commercial" title="Permalink"></a></h2><p>The Ex-Post Commercial step is responsible for calculating the clearing prices of the real-time market.</p><p>To calculate the prices there are three options:</p><ol><li>MIP that fixes variables and then runs with them fixed.</li><li>LP that receives variables to be fixed from a previous problem: it can receive the binary variables from the ex-ante or ex-post physical problems.</li><li>LP that runs relaxed.</li></ol><p>In all procedures, it&#39;s possible to add the FCF from the MinCost module and a wave-guide curve as a tie-break for the Virtual Reservoir bids.</p><h2 id="Model-Clearing-model-types"><a class="docs-heading-anchor" href="#Model-Clearing-model-types">Model Clearing model types</a><a id="Model-Clearing-model-types-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Clearing-model-types" title="Permalink"></a></h2><p>The Market Clearing can be calculated in three ways:</p><ol><li>Cost Based Dispatch: The dispatch is calculated based only on the physical attributes of the system. The objective is to minimize the total cost of the system. No bids are considered in this case.</li><li>Bid Based Dispatch: The dispatch is calculated based only on the bids submitted by the agents. The objective is to minimize the total cost of the bids accepted by the Operator. The physical constraints are not considered in this case.</li><li>Hybrid Dispatch: The dispatch is calculated based on the bids submitted by the agents and the physical constraints of the system serve as a limit for the accepted bids and a tie-break for the bids with the same cost. The objective is to minimize the total cost of the bids accepted by the Operator.</li></ol><p>Any step of the Market Clearing can be calculated with any of the three model types described above.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../market_clearing_problem/">« Market Clearing Problem</a><a class="docs-footer-nextpage" href="../build_a_case_from_scratch/">Introduction »</a><div class="flexbox-break"></div></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.6.0 on <span class="colophon-date" title="Wednesday 27 November 2024 11:43">Wednesday 27 November 2024</span>. Using Julia version 1.10.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
