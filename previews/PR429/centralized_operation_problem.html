<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Centralized operation problem · IARA.jl</title><meta name="title" content="Centralized operation problem · IARA.jl"/><meta property="og:title" content="Centralized operation problem · IARA.jl"/><meta property="twitter:title" content="Centralized operation problem · IARA.jl"/><meta name="description" content="Documentation for IARA.jl."/><meta property="og:description" content="Documentation for IARA.jl."/><meta property="twitter:description" content="Documentation for IARA.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="IARA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">IARA.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">About IARA</a></li><li><span class="tocitem">Getting started</span><ul><li><a class="tocitem" href="tutorial/first_execution.html">My first execution</a></li><li><a class="tocitem" href="tutorial/case_building.html">Editing physical data</a></li><li><a class="tocitem" href="tutorial/clearing_executions.html">Editing clearing options</a></li></ul></li><li><span class="tocitem">Conceptual overview</span><ul><li><a class="tocitem" href="key_features.html">Key features of IARA</a></li><li><a class="tocitem" href="clearing_procedure.html">The market clearing structure</a></li><li><a class="tocitem" href="hydro_challenges.html">Hydro reservoirs, cascades and virtual reservoirs</a></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox" checked/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Formulations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="conceptual_formulation.html">Conceptual formulations</a></li><li class="is-active"><a class="tocitem" href="centralized_operation_problem.html">Centralized operation problem</a><ul class="internal"><li><a class="tocitem" href="#Sets"><span>Sets</span></a></li><li><a class="tocitem" href="#Parameters"><span>Parameters</span></a></li><li><a class="tocitem" href="#Variables"><span>Variables</span></a></li><li><a class="tocitem" href="#Subproblem-Constraints"><span>Subproblem Constraints</span></a></li><li><a class="tocitem" href="#Objective-Function"><span>Objective Function</span></a></li></ul></li><li><a class="tocitem" href="market_clearing_problem.html">Market clearing problem</a></li><li><a class="tocitem" href="heuristic_bids.html">Heuristic bids for bidding groups</a></li><li><a class="tocitem" href="heuristic_bids_vr.html">Heuristic bids for virtual reservoirs</a></li><li><a class="tocitem" href="supply_function_equilibrium.html">Supply Function Equilibrium</a></li><li><a class="tocitem" href="post_processing_virtual_reservoir.html">Virtual reservoirs pre and post processing</a></li><li><a class="tocitem" href="bid_limits.html">Bid price limits</a></li></ul></li></ul></li><li><span class="tocitem">Use guides and tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Building a case from scratch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="build_a_case_from_scratch.html">Introduction</a></li><li><a class="tocitem" href="tutorial/case_01_build_base_case.html">Case creation example</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Manipulating bid data</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="bidding_formats.html">Introduction</a></li><li><a class="tocitem" href="heuristic_bid_examples.html">Heuristic bids examples</a></li><li><a class="tocitem" href="tutorial/case_03_build_profile_base_case.html">Profile bids example</a></li><li><a class="tocitem" href="tutorial/case_04_build_multi_min_activation.html">Minimum activation bids example</a></li><li><a class="tocitem" href="tutorial/case_05_build_reservoir_case.html">Virtual reservoir example</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Structuring the policy graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="intro_policy_graph.html">Introduction</a></li><li><a class="tocitem" href="tutorial/case_06_build_policy_graph.html">Policy graphs example: building</a></li><li><a class="tocitem" href="tutorial/case_06_run_policy_graph.html">Policy graphs example: running</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Custom Plots</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="tutorial/plots_tutorial.html">Plotting</a></li></ul></li></ul></li><li><span class="tocitem">Input and Outputs</span><ul><li><a class="tocitem" href="quiver_format.html">Quiver</a></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Input files</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="input_files.html">Input files table</a></li><li><a class="tocitem" href="how_to_input_fcf.html">How to Input a FCF File</a></li></ul></li><li><a class="tocitem" href="output_files.html">Output files</a></li></ul></li><li><span class="tocitem">Developer Docs</span><ul><li><a class="tocitem" href="contributing.html">Contributing</a></li><li><a class="tocitem" href="style_guide.html">Style guide</a></li><li><a class="tocitem" href="development_guides.html">Development guides</a></li></ul></li><li><a class="tocitem" href="iara_platform.html">IARA Platform</a></li><li><a class="tocitem" href="api_reference.html">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Conceptual overview</a></li><li><a class="is-disabled">Formulations</a></li><li class="is-active"><a href="centralized_operation_problem.html">Centralized operation problem</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="centralized_operation_problem.html">Centralized operation problem</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Centralized-Operation-Problem"><a class="docs-heading-anchor" href="#Centralized-Operation-Problem">Centralized Operation Problem</a><a id="Centralized-Operation-Problem-1"></a><a class="docs-heading-anchor-permalink" href="#Centralized-Operation-Problem" title="Permalink"></a></h1><h2 id="Sets"><a class="docs-heading-anchor" href="#Sets">Sets</a><a id="Sets-1"></a><a class="docs-heading-anchor-permalink" href="#Sets" title="Permalink"></a></h2><ul><li><span>$J^T$</span>: Set of thermal units.</li><li><span>$J^{TC}$</span>: Set of commitment thermal units.</li><li><span>$J^H$</span>: Set of hydro units.</li><li><span>$J^{HC}$</span>: Set of commitment hydro units.</li><li><span>$J^{HR}$</span>: Set of hydro units that operate with a reservoir.</li><li><span>$J^{HRR}$</span>: Set of hydro units that operate with as run-of-the-river.</li><li><span>$J^R$</span>: Set of renewable units.</li><li><span>$J^B$</span>: Set of battery units.</li><li><span>$J^D$</span>: Set of demands.</li><li><span>$J^{DI}$</span>: Set of inelastic demands.</li><li><span>$J^{DE}$</span>: Set of elastic demands. <span>$J^{DE} \cap J^{DI} = \emptyset$</span>.</li><li><span>$J^{DF}$</span>: Set of flexible demands. <span>$J^{DF} \cap J^{DE} = J^{DF} \cap J^{DI} = \emptyset$</span>.</li><li><span>$L$</span>: Set of transmission lines.</li><li><span>$N$</span>: Set of network nodes (a.k.a. buses).</li><li><span>$Z$</span>: Set of zones.</li><li><span>$N^{-ref}$</span>: Set of network nodes, except for the angle reference node.</li><li><span>$B(t)$</span>: Set of subperiods in period <span>$t$</span>.</li><li><span>$L^{in}(n)$</span>: Set of lines entering node <span>$n$</span>.</li><li><span>$L^{out}(n)$</span>: Set of lines exiting node <span>$n$</span>.</li><li><span>$I^{in}(z)$</span>: Set of interconnections entering zone <span>$z$</span>.</li><li><span>$I^{out}(z)$</span>: Set of interconnections exiting zone <span>$z$</span>.</li><li><span>$J^H_U(j)$</span>: Set of hydro units that turbine water to hydro unit <span>$j$</span>.</li><li><span>$J^H_Z(j)$</span>: Set of hydro units that spill water to hydro unit <span>$j$</span>.</li><li><span>$B(j, t, w)$</span>: Set of subperiods in window <span>$w$</span> of flexible demand <span>$j$</span> at period <span>$t$</span>.</li><li><span>$L^{DC}$</span>: Set of DC lines. <span>$L^{DC} \subseteq L$</span>.</li><li><span>$L^{AC}$</span>: Set of branches. <span>$L^{AC} = L \setminus L^{DC}$</span>.</li><li><span>$I$</span>: Set of interconnections.</li></ul><p>Note: </p><ul><li>The set <span>$J^T(n)$</span> is defined as the set of thermal units connected to node <span>$n$</span>.</li><li>The set <span>$J^T(z)$</span> is defined as the set of thermal units connected to zone <span>$z$</span>.</li></ul><p>All other sets are defined similarly.</p><p>Some branches may have a flag indicating that they are modeled as DC lines.</p><h2 id="Parameters"><a class="docs-heading-anchor" href="#Parameters">Parameters</a><a id="Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters" title="Permalink"></a></h2><ul><li><span>$d(\tau)$</span>: Duration in hours of subperiod <span>$\tau$</span>.</li><li><span>$C_{u \rightarrow v}$</span>: Conversion factor from unit <span>$u$</span> to unit <span>$v$</span>.</li></ul><h3 id="Hydro-Units"><a class="docs-heading-anchor" href="#Hydro-Units">Hydro Units</a><a id="Hydro-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Hydro-Units" title="Permalink"></a></h3><ul><li><span>$V_j$</span>: Maximum volume of water (<span>$hm^3$</span>) in the reservoir of hydro unit <span>$j$</span>.</li><li><span>$U_j$</span>: Maximum amount of water (<span>$m^3/s$</span>) that can be turbined from the hydro unit <span>$j$</span>.</li><li><span>$\rho_j$</span>: Turbine efficiency (<span>$MW/m^3/s$</span>) of hydro unit <span>$j$</span>.</li><li><span>$a_{j, \tau}$</span>: Inflow of water (<span>$hm^3$</span>) into the reservoir of hydro unit <span>$j$</span> at the start of subperiod <span>$\tau$</span>.</li><li><span>$O_j$</span>: Minimum outflow of water (<span>$m^3/s$</span>) from the reservoir of hydro unit <span>$j$</span>.</li><li><span>$C^\eta$</span>: Cost (<span>$\$/hm^3$</span>) of minimum outflow violation.</li><li><span>$C^z_j$</span>: Cost (<span>$\$/hm^3$</span>) of spilling water from hydro unit <span>$j$</span>.</li><li><span>$\overline{G}^H_j$</span>: Maximum generation (<span>$MW$</span>) of hydro unit <span>$j$</span>.</li><li><span>$\underline{G}^H_j$</span>: Minimum generation (<span>$MW$</span>) of hydro unit <span>$j$</span>.</li></ul><h3 id="Thermal-Units"><a class="docs-heading-anchor" href="#Thermal-Units">Thermal Units</a><a id="Thermal-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Thermal-Units" title="Permalink"></a></h3><ul><li><span>$\overline{G}^T_j$</span>: Maximum generation (<span>$MW$</span>) of thermal unit <span>$j$</span>.</li><li><span>$\underline{G}^T_j$</span>: Minimum generation (<span>$MW$</span>) of thermal unit <span>$j$</span>.</li><li><span>$C^T_j$</span>: Cost of generation (<span>$\$/MWh$</span>) of thermal unit <span>$j$</span>.</li><li><span>$C^{T_{up}}_j$</span>: Cost of startup (<span>$\$$</span>) of thermal unit <span>$j$</span>.</li><li><span>$C^{T_{down}}_j$</span>: Cost of shutdown (<span>$\$$</span>) of thermal unit <span>$j$</span>.</li><li><span>$x^T_{j, 0}$</span>: Commitment of thermal unit <span>$j$</span> at the start of the period.</li><li><span>$\Delta^{up}_j$</span>: Ramp-up limit (<span>$MW/min$</span>) of thermal unit <span>$j$</span>.</li><li><span>$\Delta^{down}_j$</span>: Ramp-down limit (<span>$MW/min$</span>) of thermal unit <span>$j$</span>.</li><li><span>$g^T_{j, 0}$</span>: Generation (<span>$MW$</span>) of thermal unit <span>$j$</span> at the start of the period.</li><li><span>$UT^{max}_j$</span>: Maximum uptime (<span>$h$</span>) of thermal unit <span>$j$</span>.</li><li><span>$UT^{min}_j$</span>: Minimum uptime (<span>$h$</span>) of thermal unit <span>$j$</span>.</li><li><span>$DT^{min}_j$</span>: Minimum downtime (<span>$h$</span>) of thermal unit <span>$j$</span>.</li><li><span>$t^{up}_{j,0}$</span>: Uptime (<span>$h$</span>) of thermal unit <span>$j$</span> at the start of the period.</li><li><span>$t^{down}_{j,0}$</span>: Downtime (<span>$h$</span>) of thermal unit <span>$j$</span> at the start of the period.</li></ul><h3 id="Renewable-Units"><a class="docs-heading-anchor" href="#Renewable-Units">Renewable Units</a><a id="Renewable-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Renewable-Units" title="Permalink"></a></h3><ul><li><span>$G^R_j$</span>: Maximum generation (<span>$MW$</span>) of renewable unit <span>$j$</span>.</li><li><span>$G^R_{j, \tau}(\omega)$</span>: Realized generation (<span>$p.u.$</span>, as a fraction of the maximum generation) of renewable unit <span>$j$</span> during subperiod <span>$\tau$</span> and scenario <span>$\omega$</span>.</li><li><span>$C^{Rz}_j$</span>: Cost of curtailment (<span>$\$/MWh$</span>) of renewable unit <span>$j$</span>.</li><li><span>$C^R_j$</span>: Cost of generation (<span>$\$/MWh$</span>) of renewable unit <span>$j$</span>.</li></ul><h3 id="Battery-Units"><a class="docs-heading-anchor" href="#Battery-Units">Battery Units</a><a id="Battery-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Battery-Units" title="Permalink"></a></h3><ul><li><span>$G^B_j$</span>: Maximum generation (<span>$MW$</span>) of battery unit <span>$j$</span>.</li><li><span>$\overline{s}^B_j$</span>: Maximum state (<span>$MWh$</span>) of charge of battery unit <span>$j$</span>.</li><li><span>$\underline{s}^B_j$</span>: Minimum state (<span>$MWh$</span>) of charge of battery unit <span>$j$</span>.</li><li><span>$C^S_j$</span>: Cost of storage (<span>$\$/MWh$</span>) of battery unit <span>$j$</span>.</li></ul><h3 id="Demands"><a class="docs-heading-anchor" href="#Demands">Demands</a><a id="Demands-1"></a><a class="docs-heading-anchor-permalink" href="#Demands" title="Permalink"></a></h3><ul><li><span>$D_{j, \tau}(\omega)$</span>: Load (<span>$GWh$</span>) of demand <span>$j$</span> during subperiod <span>$\tau$</span> and scenario <span>$\omega$</span>.</li><li><span>$C^\delta$</span>: Cost of demand deficit (<span>$\$/MWh$</span>).</li><li><span>$C^{\delta^F}_{j, \tau}$</span>: Cost demand curtailment (<span>$\$/MWh$</span>) of demand <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$P_{j, \tau}(\omega)$</span>: Maximum price (<span>$\$/MWh$</span>) of elastic demand <span>$j$</span> during subperiod <span>$\tau$</span> and scenario <span>$\omega$</span>.</li><li><span>$W_{j, t}$</span>: Window of demand <span>$j$</span> at period <span>$t$</span>, if <span>$j \in J^{DF}$</span>.</li><li><span>$\underline{d}^F_j$</span>: Maximum fraction of flexible demand <span>$j$</span> to be under attended at some subperiod.</li><li><span>$\overline{d}^F_j$</span>: Maximum fraction of flexible demand <span>$j$</span> to be over attended at some subperiod.</li><li><span>$\overline{\delta}^F_j$</span>: Maximum fraction of flexible demand <span>$j$</span> to be curtailed at a window.</li></ul><h3 id="Interconections"><a class="docs-heading-anchor" href="#Interconections">Interconections</a><a id="Interconections-1"></a><a class="docs-heading-anchor-permalink" href="#Interconections" title="Permalink"></a></h3><ul><li><span>$Z^{from}_j$</span>: Zone where interconnection <span>$j$</span> starts.</li><li><span>$Z^{to}_j$</span>: Zone where interconnection <span>$j$</span> ends.</li><li><span>$\overline{f}^{Z, from}_j$</span>: Maximum flow (<span>$MW$</span>) from zone <span>$Z^{to}_j$</span> to zone <span>$zone^{from}_j$</span>.</li><li><span>$\overline{f}^{Z, to}_j$</span>: Maximum flow (<span>$MW$</span>) from zone <span>$Z^{from}_j$</span> to zone <span>$zone^{to}_j$</span>.</li></ul><h3 id="DC-Lines"><a class="docs-heading-anchor" href="#DC-Lines">DC Lines</a><a id="DC-Lines-1"></a><a class="docs-heading-anchor-permalink" href="#DC-Lines" title="Permalink"></a></h3><ul><li><span>$n^{from}_j$</span>: Node where line <span>$j$</span> starts.</li><li><span>$n^{to}_j$</span>: Node where line <span>$j$</span> ends.</li><li><span>$\overline{f}^{from}_j$</span>: Maximum flow (<span>$MW$</span>) from node <span>$n^{to}_j$</span> to node <span>$n^{from}_j$</span>.</li><li><span>$\overline{f}^{to}_j$</span>: Maximum flow (<span>$MW$</span>) from node <span>$n^{from}_j$</span> to node <span>$n^{to}_j$</span>.</li></ul><h3 id="Branches"><a class="docs-heading-anchor" href="#Branches">Branches</a><a id="Branches-1"></a><a class="docs-heading-anchor-permalink" href="#Branches" title="Permalink"></a></h3><ul><li><span>$n^{from}_j$</span>: Node where line <span>$j$</span> starts.</li><li><span>$n^{to}_j$</span>: Node where line <span>$j$</span> ends.</li><li><span>$\overline{f}_j$</span>: Maximum flow (<span>$MW$</span>) of line <span>$j$</span>.</li><li><span>$X_j$</span>: Reactance (<span>$p.u.$</span>) of line <span>$j$</span>.</li></ul><h2 id="Variables"><a class="docs-heading-anchor" href="#Variables">Variables</a><a id="Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Variables" title="Permalink"></a></h2><h3 id="Hydro-Units-2"><a class="docs-heading-anchor" href="#Hydro-Units-2">Hydro Units</a><a class="docs-heading-anchor-permalink" href="#Hydro-Units-2" title="Permalink"></a></h3><ul><li><span>$g^H_{j, \tau}$</span>: Generation (<span>$MWh$</span>) of hydro unit <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$v_{j, \tau}$</span>: Volume of water (<span>$hm^3$</span>) in the reservoir at the start of subperiod <span>$\tau$</span>.</li><li><span>$u_{j, \tau}$</span>: Turbined water (<span>$hm^3$</span>) from the reservoir during subperiod <span>$\tau$</span>.</li><li><span>$z_{j, \tau}$</span>: Spilled water (<span>$hm^3$</span>) from the reservoir during subperiod <span>$\tau$</span>.</li><li><span>$v^{S_{in}}_j$</span>: Volume of water (<span>$hm^3$</span>) in the reservoir at the start of the period.</li><li><span>$v^{S_{out}}_j$</span>: Volume of water (<span>$hm^3$</span>) in the reservoir at the end of the period.</li><li><span>$a^S_{j, \tau}$</span>: Inflow slack (<span>$m^3/s$</span>) of hydro unit <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$\eta_{j, \tau}$</span>: Hydro minimum outflow violation (<span>$hm^3$</span>) during subperiod <span>$\tau$</span>.</li><li><span>$x^H_{j, \tau}$</span>: Commitment of hydro unit <span>$j$</span> during subperiod <span>$\tau$</span>.</li></ul><h3 id="Thermal-Units-2"><a class="docs-heading-anchor" href="#Thermal-Units-2">Thermal Units</a><a class="docs-heading-anchor-permalink" href="#Thermal-Units-2" title="Permalink"></a></h3><ul><li><span>$g^T_{j, \tau}$</span>: Generation (<span>$MWh$</span>) of thermal unit <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$x^T_{j, \tau}$</span>: Commitment of thermal unit <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$y^T_{j, \tau}$</span>: Startup of thermal unit <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$w^T_{j, \tau}$</span>: Shutdown of thermal unit <span>$j$</span> during subperiod <span>$\tau$</span>.</li></ul><h3 id="Renewable-Units-2"><a class="docs-heading-anchor" href="#Renewable-Units-2">Renewable Units</a><a class="docs-heading-anchor-permalink" href="#Renewable-Units-2" title="Permalink"></a></h3><ul><li><span>$g^R_{j, \tau}$</span>: Generation (<span>$MWh$</span>) of renewable unit <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$z^r_{j, \tau}$</span>: Spilled generation (<span>$MWh$</span>) of renewable unit <span>$j$</span> during subperiod <span>$\tau$</span>.</li></ul><h3 id="Battery-Units-2"><a class="docs-heading-anchor" href="#Battery-Units-2">Battery Units</a><a class="docs-heading-anchor-permalink" href="#Battery-Units-2" title="Permalink"></a></h3><ul><li><span>$s^B_{j, \tau}$</span>: State of charge (<span>$MWh$</span>) of battery unit <span>$j$</span> at the start of subperiod <span>$\tau$</span>.</li><li><span>$g^B_{j, \tau}$</span>: Generation (<span>$MWh$</span>) of battery unit <span>$j$</span> at the end of subperiod <span>$\tau$</span>.</li><li><span>$s^B_{j, \tau}$</span>: State of charge (<span>$MWh$</span>) of battery unit <span>$j$</span> at the end of subperiod <span>$\tau$</span>.</li><li><span>$s^{B_{in}}_j$</span>: State of charge (<span>$MWh$</span>) of battery unit <span>$j$</span> at the start of the period.</li><li><span>$s^{B_{out}}_j$</span>: State of charge (<span>$MWh$</span>) of battery unit <span>$j$</span> at the end of the period.</li></ul><h3 id="Demands-2"><a class="docs-heading-anchor" href="#Demands-2">Demands</a><a class="docs-heading-anchor-permalink" href="#Demands-2" title="Permalink"></a></h3><ul><li><span>$\delta_{j, \tau}$</span>: Demand deficit (<span>$GWh$</span>) of demand <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$\delta^F_{j, \tau}$</span>: Demand curtailment (<span>$GWh$</span>) of demand <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$d^F_{j, \tau}$</span>: Flexible demand to be attended (<span>$GWh$</span>) of demand <span>$j$</span> during subperiod <span>$\tau$</span>.</li><li><span>$d^E_{j, \tau}$</span>: Elastic demand to be attended (<span>$GWh$</span>) of demand <span>$j$</span> during subperiod <span>$\tau$</span>.</li></ul><h3 id="Interconnections"><a class="docs-heading-anchor" href="#Interconnections">Interconnections</a><a id="Interconnections-1"></a><a class="docs-heading-anchor-permalink" href="#Interconnections" title="Permalink"></a></h3><ul><li><span>$f^I_{j, \tau}$</span>: Flow (<span>$MW$</span>) of interconnection <span>$j$</span> during subperiod <span>$\tau$</span>.</li></ul><h3 id="Transmission-Lines"><a class="docs-heading-anchor" href="#Transmission-Lines">Transmission Lines</a><a id="Transmission-Lines-1"></a><a class="docs-heading-anchor-permalink" href="#Transmission-Lines" title="Permalink"></a></h3><ul><li><span>$f_{j, \tau}$</span>: Flow (<span>$MW$</span>) of line <span>$j$</span> during subperiod <span>$\tau$</span>.</li></ul><h3 id="Network-Nodes"><a class="docs-heading-anchor" href="#Network-Nodes">Network Nodes</a><a id="Network-Nodes-1"></a><a class="docs-heading-anchor-permalink" href="#Network-Nodes" title="Permalink"></a></h3><ul><li><span>$\theta_{n, \tau}$</span>: Voltage angle (<span>$rad$</span>) at node <span>$n$</span> during subperiod <span>$\tau$</span>.</li></ul><h2 id="Subproblem-Constraints"><a class="docs-heading-anchor" href="#Subproblem-Constraints">Subproblem Constraints</a><a id="Subproblem-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Subproblem-Constraints" title="Permalink"></a></h2><p>The following constraints are defined for a subproblem at period <span>$t$</span> and scenario <span>$\omega$</span>.</p><h3 id="Demand-Balance-(Zonal)"><a class="docs-heading-anchor" href="#Demand-Balance-(Zonal)">Demand Balance (Zonal)</a><a id="Demand-Balance-(Zonal)-1"></a><a class="docs-heading-anchor-permalink" href="#Demand-Balance-(Zonal)" title="Permalink"></a></h3><p class="math-container">\[    C_{MW \rightarrow GW}  \bigg(
    \sum_{j \in J^T(z)}{g^T_{j, \tau}}
    + \sum_{j \in J^H(z)}{g^H_{j, \tau}}
    + \sum_{j \in J^R(z)}{g^R_{j, \tau}}
    + \sum_{j \in J^B(z)}{g^B_{j, \tau}} 
    + \sum_{l \in I^{in}(z)}{f^I_{l, \tau} \cdot d(\tau)} \\
    - \sum_{l \in I^{out}(z)}{f^I_{l, \tau} \cdot d(\tau)} \bigg)
    + \sum_{j \in J^{DI}(z)}{\delta_{j, \tau}}
    = \sum_{j \in J^{DI}(z)}{D_{j, \tau, \omega}}
    + \sum_{j \in J^{DF}(z)}{d^F_{j, \tau}}
    + \sum_{j \in J^{DE}(z)}{d^E_{j, \tau}}
    \quad \forall z \in Z, \tau \in B(t)\]</p><h3 id="Demand-Balance-(Nodal)"><a class="docs-heading-anchor" href="#Demand-Balance-(Nodal)">Demand Balance (Nodal)</a><a id="Demand-Balance-(Nodal)-1"></a><a class="docs-heading-anchor-permalink" href="#Demand-Balance-(Nodal)" title="Permalink"></a></h3><p class="math-container">\[    C_{MW \rightarrow GW}  \bigg(
    \sum_{j \in J^T(n)}{g^T_{j, \tau}}
    + \sum_{j \in J^H(n)}{g^H_{j, \tau}}
    + \sum_{j \in J^R(n)}{g^R_{j, \tau}}
    + \sum_{j \in J^B(n)}{g^B_{j, \tau}} 
    + \sum_{l \in L^{in}(n)}{f_{l, \tau} \cdot d(\tau)} \\
    - \sum_{l \in L^{out}(n)}{f_{l, \tau} \cdot d(\tau)} \bigg)
    + \sum_{j \in J^{DI}(n)}{\delta_{j, \tau}}
    = \sum_{j \in J^{DI}(n)}{D_{j, \tau, \omega}}
    + \sum_{j \in J^{DF}(n)}{d^F_{j, \tau}} \\
    + \sum_{j \in J^{DE}(n)}{d^E_{j, \tau}}
    \quad \forall n \in N, \tau \in B(t)\]</p><h3 id="Demand-shift-bounds"><a class="docs-heading-anchor" href="#Demand-shift-bounds">Demand shift bounds</a><a id="Demand-shift-bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Demand-shift-bounds" title="Permalink"></a></h3><p class="math-container">\[    (1 - \underline{d}^F_j) \cdot D_{j, \tau, \omega}
    \leq d^F_{j, \tau} + \delta_{j, \tau}
    \leq (1 + \overline{d}^F_j) \cdot D_{j, \tau, \omega}
    \quad \forall j \in J^{DF}, \tau \in B(t)\]</p><h3 id="Demand-window-sum"><a class="docs-heading-anchor" href="#Demand-window-sum">Demand window sum</a><a id="Demand-window-sum-1"></a><a class="docs-heading-anchor-permalink" href="#Demand-window-sum" title="Permalink"></a></h3><p class="math-container">\[    \sum_{\tau \in B(j, t, w)} (d^F_{j, \tau} + \delta^F_{j, \tau})
    = \sum_{\tau \in B(j, t, w)} ( D_{j, \tau, \omega} - \delta_{j, \tau} )
    \quad \forall j \in J^{DF}, w \in W_{j, t}\]</p><h3 id="Demand-window-maximum-curtailment"><a class="docs-heading-anchor" href="#Demand-window-maximum-curtailment">Demand window maximum curtailment</a><a id="Demand-window-maximum-curtailment-1"></a><a class="docs-heading-anchor-permalink" href="#Demand-window-maximum-curtailment" title="Permalink"></a></h3><p class="math-container">\[    \sum_{\tau \in B(j, t, w)} \delta^F_{j, \tau}
    \leq \sum_{\tau \in B(j, t, w)} \overline{\delta}^F_j D_{j, \tau, \omega}
    \quad \forall j \in J^{DF}, w \in W_{j, t}\]</p><h3 id="Hydro-Balance"><a class="docs-heading-anchor" href="#Hydro-Balance">Hydro Balance</a><a id="Hydro-Balance-1"></a><a class="docs-heading-anchor-permalink" href="#Hydro-Balance" title="Permalink"></a></h3><h4 id="Intra-period-balance"><a class="docs-heading-anchor" href="#Intra-period-balance">Intra-period balance</a><a id="Intra-period-balance-1"></a><a class="docs-heading-anchor-permalink" href="#Intra-period-balance" title="Permalink"></a></h4><p class="math-container">\[    v_{j, \tau+1} = v_{j, \tau} - u_{j, \tau} - z_{j, \tau}
    + \sum_{n \in J^H_U(j)}{u_{n, \tau}} 
    + \sum_{n \in J^H_Z(j)}{z_{n, \tau}} +  a_{j, \tau} + a^S_{j, \tau} \\
    \quad \forall j \in J^H, \tau \in B(t)\]</p><h4 id="Inter-period-balance"><a class="docs-heading-anchor" href="#Inter-period-balance">Inter-period balance</a><a id="Inter-period-balance-1"></a><a class="docs-heading-anchor-permalink" href="#Inter-period-balance" title="Permalink"></a></h4><p class="math-container">\[    v^{S_{in}}_j = v_{j, 1}
    \quad \forall j \in J^H\]</p><p class="math-container">\[    v^{S_{out}}_j = v_{j, |B(t)| + 1}
    \quad \forall j \in J^H\]</p><h4 id="Initial-and-final-volume-of-run-of-river-hydro-units"><a class="docs-heading-anchor" href="#Initial-and-final-volume-of-run-of-river-hydro-units">Initial and final volume of run of river hydro units</a><a id="Initial-and-final-volume-of-run-of-river-hydro-units-1"></a><a class="docs-heading-anchor-permalink" href="#Initial-and-final-volume-of-run-of-river-hydro-units" title="Permalink"></a></h4><p class="math-container">\[    v_{j, 1} = v_{j, |B(t)| + 1}
    \quad \forall j \in J^{HRR}\]</p><h3 id="Hydro-Generation"><a class="docs-heading-anchor" href="#Hydro-Generation">Hydro Generation</a><a id="Hydro-Generation-1"></a><a class="docs-heading-anchor-permalink" href="#Hydro-Generation" title="Permalink"></a></h3><p class="math-container">\[    g^H_{j, \tau} = \rho_j u_{j, \tau} C_{hm^3/h \rightarrow m^3/s}
\quad \forall j \in J^H, \tau \in B(t)\]</p><h3 id="Hydro-Minimum-Outflow"><a class="docs-heading-anchor" href="#Hydro-Minimum-Outflow">Hydro Minimum Outflow</a><a id="Hydro-Minimum-Outflow-1"></a><a class="docs-heading-anchor-permalink" href="#Hydro-Minimum-Outflow" title="Permalink"></a></h3><p class="math-container">\[    u_{j, \tau} + z_{j, \tau} + \eta_{j, \tau} \geq O_j \cdot d(\tau) \cdot C_{m^3/s \rightarrow hm^3/h}
    \quad \forall j \in J^H, \tau \in B(t)\]</p><h3 id="Thermal-Commitment"><a class="docs-heading-anchor" href="#Thermal-Commitment">Thermal Commitment</a><a id="Thermal-Commitment-1"></a><a class="docs-heading-anchor-permalink" href="#Thermal-Commitment" title="Permalink"></a></h3><p class="math-container">\[    y^T_{j, \tau} - w^T_{j, \tau} = x^T_{j, \tau} - x^T_{j, \tau-1}
    \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><p class="math-container">\[    y^T_{j, \tau} + w^T_{j, \tau} \leq x^T_{j, \tau} + x^T_{j, \tau-1}
    \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><p class="math-container">\[    y^T_{j, \tau} + w^T_{j, \tau} + x^T_{j, \tau} + x^T_{j, \tau-1} \leq 2
    \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><h3 id="Thermal-Ramping"><a class="docs-heading-anchor" href="#Thermal-Ramping">Thermal Ramping</a><a id="Thermal-Ramping-1"></a><a class="docs-heading-anchor-permalink" href="#Thermal-Ramping" title="Permalink"></a></h3><p class="math-container">\[    g^T_{j, \tau} - g^T_{j, \tau-1} \leq \Delta^{up}_j \cdot C_{1/h \rightarrow 1/min} \cdot \frac{d(\tau)+d(\tau-1)}{2}
    \quad \forall j \in J^T, \tau \in B(t)\]</p><p class="math-container">\[    g^T_{j, \tau-1} - g^T_{j, \tau} \leq \Delta^{down}_j \cdot C_{1/h \rightarrow 1/min} \cdot \frac{d(\tau)+d(\tau-1)}{2}
    \quad \forall j \in J^T, \tau \in B(t)\]</p><h3 id="Thermal-Minimum-Up/Down-Time"><a class="docs-heading-anchor" href="#Thermal-Minimum-Up/Down-Time">Thermal Minimum Up/Down Time</a><a id="Thermal-Minimum-Up/Down-Time-1"></a><a class="docs-heading-anchor-permalink" href="#Thermal-Minimum-Up/Down-Time" title="Permalink"></a></h3><p>Based on the initial conditions <span>$t^{up}_{j,0}$</span> and <span>$t^{down}_{j,0}$</span>, the following terms are defined:</p><p class="math-container">\[    I^{up}_{j, \tau} =
    \begin{cases}
        1 &amp; \text{if } t = 1 \text{ and } t^{up}_{j, 0} + \sum_{\gamma = 1}^{\tau - 1}{d(\gamma)} &lt; UT^{min}_j \\
        0 &amp; \text{otherwise}
    \end{cases}
    \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><p class="math-container">\[    I^{down}_{j, \tau} =
    \begin{cases}
        1 &amp; \text{if } t = 1 \text{ and } t^{down}_{j, 0} + \sum_{\gamma = 1}^{\tau - 1}{d(\gamma)}  &lt; DT^{min}_j \\
        0 &amp; \text{otherwise}
    \end{cases}
    \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><p>The indicators <span>$I^{up}$</span> and <span>$I^{down}$</span> represent whether the plant started/stopped in the previous period AND has yet to reach the minimum uptime/downtime. Also, the following auxiliar terms are defined:</p><p class="math-container">\[    \Gamma^{UT^{min}}_{j, \tau} = min \left\{ \gamma \in B(t) \Big\vert \sum_{\kappa = \gamma}^{\tau-1}{d(\kappa) &lt; UT^{min}_j } \right\}\]</p><p class="math-container">\[    \Gamma^{DT^{min}}_{j, \tau} = min \left\{ \gamma \in B(t) \Big\vert \sum_{\kappa = \gamma}^{\tau-1}{d(\kappa) &lt; DT^{min}_j } \right\}\]</p><p>With these terms, the following constraints are defined:</p><p class="math-container">\[    \left(\sum_{\gamma = \Gamma^{UT^{min}}_{j, \tau}}^{\tau}{y^T_{j, \gamma}}\right) + I^{up}_{j, \tau} \leq x^T_{j, \tau} , 
    \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><p class="math-container">\[    \left(\sum_{\gamma= \Gamma^{DT^{min}}_{j, \tau}}^{\tau}{w^T_{j, \gamma}}\right) + I^{down}_{j, \tau} \leq 1 - x^T_{j, \tau}, 
    \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><p>For the uptime, the constraint states that if the plant started in the last <span>$UT^{min}_j$</span> hours or if the indicator <span>$I^{up}_{j, \tau}$</span> is active, then the plant must remain active. The same logic applies to the downtime.</p><h3 id="Thermal-Maximum-Uptime"><a class="docs-heading-anchor" href="#Thermal-Maximum-Uptime">Thermal Maximum Uptime</a><a id="Thermal-Maximum-Uptime-1"></a><a class="docs-heading-anchor-permalink" href="#Thermal-Maximum-Uptime" title="Permalink"></a></h3><p>Based on the initial condition <span>$t^{up}_{j,0}$</span> and the <span>$UT^{max}$</span> parameter, the following terms are defined:</p><p class="math-container">\[    T^{up}_{j, \tau} =
    \begin{cases}
        t^{up}_{j, 0}     &amp; \text{if } t^{up}_{j, 0} + \sum_{\gamma = 1}^{\tau - 1}{d(\gamma)} \leq UT^{max}_j \\
        UT^{max}_j - \sum_{\gamma = 1}^{\tau - 1}{d(\gamma)} &amp; \text{if } \sum_{\gamma = 1}^{\tau - 1}{d(\gamma)} \leq UT^{max}_j               \\
        0                 &amp; \text{otherwise}
    \end{cases}
    \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><p class="math-container">\[     \Gamma^{UT^{max}}_{j, \tau} = min \left\{ \gamma \in B(t) \Big\vert \sum_{\kappa = \gamma}^{\tau-1}{d(\kappa) \leq UT^{max}_j } \right\}\]</p><p>For a time window of <span>$UT^{max}_j$</span> hours before the beginning of subperiod <span>$\tau$</span>, the term <span>$T^{up}_{j, \tau}$</span> represents the amount of hours that the plant has been active in the period before. The term <span>$\Gamma^{UT^{max}}_{j, \tau}$</span> indicates the first subperiod in the current period that is within the time window of <span>$UT^{max}_j$</span> hours before the current subperiod <span>$\tau$</span>. </p><p>With these terms, the following constraint is defined:</p><p class="math-container">\[    \left(\sum_{\gamma=\Gamma^{UT^{max}}_{j, \tau}}^{\tau}{d(\tau) \cdot x^T_{j, \gamma}}\right) + T^{up}_{j, \tau} \leq UT^{max}_j
    \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><p>The constraint states that the amount of time that the plant has been active in the last <span>$UT^{max}_j$</span> hours plus the time that the plant is active in the current subperiod must be less than or equal to <span>$UT^{max}_j$</span>.</p><h3 id="Renewable-Balance"><a class="docs-heading-anchor" href="#Renewable-Balance">Renewable Balance</a><a id="Renewable-Balance-1"></a><a class="docs-heading-anchor-permalink" href="#Renewable-Balance" title="Permalink"></a></h3><p class="math-container">\[    g^R_{j, \tau} + z^r_{j, \tau} = G^R_{j, \tau}(\omega)\cdot G^R_j \cdot d(\tau)
    \quad \forall j \in J^R, \tau \in B(t)\]</p><h3 id="Battery-Unit-Balance"><a class="docs-heading-anchor" href="#Battery-Unit-Balance">Battery Unit Balance</a><a id="Battery-Unit-Balance-1"></a><a class="docs-heading-anchor-permalink" href="#Battery-Unit-Balance" title="Permalink"></a></h3><h4 id="Intra-period-balance-2"><a class="docs-heading-anchor" href="#Intra-period-balance-2">Intra-period balance</a><a class="docs-heading-anchor-permalink" href="#Intra-period-balance-2" title="Permalink"></a></h4><p class="math-container">\[    s^B_{j, \tau+1} = s^B_{j, \tau} - g^B_{j, \tau}
    \quad \forall j \in J^B, \tau \in B(t)\]</p><h4 id="Inter-period-balance-2"><a class="docs-heading-anchor" href="#Inter-period-balance-2">Inter-period balance</a><a class="docs-heading-anchor-permalink" href="#Inter-period-balance-2" title="Permalink"></a></h4><p class="math-container">\[    s^{B_{in}}_j = s^B_{j, 1}
    \quad \forall j \in J^B\]</p><p class="math-container">\[    s^{B_{out}}_j = s^B_{j, |B(t)| + 1}
    \quad \forall j \in J^B\]</p><h3 id="Kirchhoff&#39;s-Voltage-Law"><a class="docs-heading-anchor" href="#Kirchhoff&#39;s-Voltage-Law">Kirchhoff&#39;s Voltage Law</a><a id="Kirchhoff&#39;s-Voltage-Law-1"></a><a class="docs-heading-anchor-permalink" href="#Kirchhoff&#39;s-Voltage-Law" title="Permalink"></a></h3><p>When considering the compact version of the power flow, the following constraints can be omitted and the voltage angles are not decision variables.</p><p class="math-container">\[    \frac{-1}{X_j} (\theta_{n^{to}_j, \tau} - \theta_{n^{from}_j, \tau}) = f_{j, \tau}, \quad
    \forall j \in L^{AC}, \tau \in B(t)\]</p><h3 id="Hydro-Bounds"><a class="docs-heading-anchor" href="#Hydro-Bounds">Hydro Bounds</a><a id="Hydro-Bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Hydro-Bounds" title="Permalink"></a></h3><h4 id="Volume-bounds"><a class="docs-heading-anchor" href="#Volume-bounds">Volume bounds</a><a id="Volume-bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Volume-bounds" title="Permalink"></a></h4><p class="math-container">\[    0 \leq v_{j, \tau} \leq V_j, \quad
    \forall j \in J^H, \tau = 1, ..., |B(t)| + 1\]</p><h4 id="Commitment-plants"><a class="docs-heading-anchor" href="#Commitment-plants">Commitment plants</a><a id="Commitment-plants-1"></a><a class="docs-heading-anchor-permalink" href="#Commitment-plants" title="Permalink"></a></h4><p class="math-container">\[    \underline{G}^H_j x^H_{j, \tau}\cdot d(\tau) \leq g^H_{j, \tau} \leq \overline{G}^H_j x^H_{j, \tau}\cdot d(\tau)
    , \quad \forall j \in J^{HC}, \tau \in B(t)\]</p><h4 id="Other-bounds"><a class="docs-heading-anchor" href="#Other-bounds">Other bounds</a><a id="Other-bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Other-bounds" title="Permalink"></a></h4><p class="math-container">\[    0 \leq u_{j, \tau} \leq U_j \cdot d(\tau) \cdot C_{m^3/s \rightarrow hm^3/h}, \quad
    z_{j, \tau} \geq 0 , \quad
    \eta_{j, \tau} \geq 0, \quad
    0 \leq g^H_{j, \tau} \leq \overline{G}^H_j\cdot d(\tau), \\
    \forall j \in J^H, \tau \in B(t)\]</p><h3 id="Thermal-Bounds"><a class="docs-heading-anchor" href="#Thermal-Bounds">Thermal Bounds</a><a id="Thermal-Bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Thermal-Bounds" title="Permalink"></a></h3><h4 id="Commitment-plants-2"><a class="docs-heading-anchor" href="#Commitment-plants-2">Commitment plants</a><a class="docs-heading-anchor-permalink" href="#Commitment-plants-2" title="Permalink"></a></h4><p class="math-container">\[    \underline{G}^T_j x^T_{j, \tau}\cdot d(\tau) \leq g^T_{j, \tau} \leq \overline{G}^T_j x^T_{j, \tau}\cdot d(\tau)
    , \quad \forall j \in J^{TC}, \tau \in B(t)\]</p><h4 id="Other-plants"><a class="docs-heading-anchor" href="#Other-plants">Other plants</a><a id="Other-plants-1"></a><a class="docs-heading-anchor-permalink" href="#Other-plants" title="Permalink"></a></h4><p class="math-container">\[    \underline{G}^T_j\cdot d(\tau) \leq g^T_{j, \tau} \leq \overline{G}^T_j\cdot d(\tau), \quad
    \forall j \in J^T \setminus J^{TC}, \tau \in B(t)\]</p><h3 id="Renewable-bounds"><a class="docs-heading-anchor" href="#Renewable-bounds">Renewable bounds</a><a id="Renewable-bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Renewable-bounds" title="Permalink"></a></h3><p class="math-container">\[    0 \leq g^R_{j, \tau}, \quad
    0 \leq z^r_{j, \tau}, \quad
    \forall j \in J^R, \tau \in B(t)\]</p><h3 id="Battery-Unit-bounds"><a class="docs-heading-anchor" href="#Battery-Unit-bounds">Battery Unit bounds</a><a id="Battery-Unit-bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Battery-Unit-bounds" title="Permalink"></a></h3><p class="math-container">\[    -G^B_j \cdot d(\tau) \leq g^B_{j, \tau} \leq G^B_j \cdot d(\tau), \quad
    \underline{s}^B_j \leq s^B_{j, \tau} \leq \overline{s}^B_j, \quad
    \forall j \in J^B, \tau \in B(t)\]</p><h3 id="Transmission-Bounds"><a class="docs-heading-anchor" href="#Transmission-Bounds">Transmission Bounds</a><a id="Transmission-Bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Transmission-Bounds" title="Permalink"></a></h3><h4 id="Interconnections-2"><a class="docs-heading-anchor" href="#Interconnections-2">Interconnections</a><a class="docs-heading-anchor-permalink" href="#Interconnections-2" title="Permalink"></a></h4><p class="math-container">\[    -\overline{f}^{Z, from}_j \leq f^I_{j, \tau} \leq \overline{f}^{Z, to}_j, \quad
    \forall j \in I, \tau \in B(t)\]</p><h4 id="DC-Lines-2"><a class="docs-heading-anchor" href="#DC-Lines-2">DC Lines</a><a class="docs-heading-anchor-permalink" href="#DC-Lines-2" title="Permalink"></a></h4><p class="math-container">\[    -\overline{f}^{from}_j \leq f_{j, \tau} \leq \overline{f}^{to}_j, \quad
    \forall j \in L^{DC}, \tau \in B(t)\]</p><h4 id="Branches-2"><a class="docs-heading-anchor" href="#Branches-2">Branches</a><a class="docs-heading-anchor-permalink" href="#Branches-2" title="Permalink"></a></h4><p>When the complete DC power flow formulation is considered, the flow limits are given by:</p><p class="math-container">\[    -\overline{f}_j \leq f_{j, \tau} \leq \overline{f}_j, \quad
    \forall j \in L^{AC}, \tau \in B(t)\]</p><p>Whereas the compact form of the power flow considers the flow limits as:</p><p class="math-container">\[    -\overline{f}_j \leq \sum_{n \in N^{-ref}}{\beta_{j, n} \cdot (\sum_{l \in L^{out}(n)}f_{l, \tau} - \sum_{l \in L^{in}(n)}f_{l, \tau})} \leq \overline{f}_j, \quad
    \forall j \in L^{AC}, \tau \in B(t)\]</p><p>Where <span>$\beta$</span> is the branch flow sensitivity matrix, that can be calculated using the data from the nodes and branches.</p><p class="math-container">\[    \beta = \Gamma A^T(A \Gamma A^T)^{-1}\]</p><p>The matrix <span>$A$</span> is the reduced incidence matrix and <span>$\Gamma$</span> is the diagonal matrix with the susceptance of each branch of the system.</p><p>The incidence matrix defines the connections between the network nodes and branches. It has the node indices as the matrix rows, and the branch indices as the matrix columns. The elements are <span>$1$</span> in the intersection of a <code>from</code> node row and the branch column, <span>$-1$</span> in the intersection of a <code>to</code> node row and the branch column, and <span>$0$</span> otherwise, i.e., when the node column does not belong to the branch column. Finally, the reduced incidence matrix is given by the elimination of the row corresponding to the reference node in the original incidence matrix.</p><h3 id="Demand-Deficit-Bounds"><a class="docs-heading-anchor" href="#Demand-Deficit-Bounds">Demand Deficit Bounds</a><a id="Demand-Deficit-Bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Demand-Deficit-Bounds" title="Permalink"></a></h3><p class="math-container">\[    \delta_{j, \tau} \geq 0, \quad
    \forall j \in J^D, \tau \in B(t)\]</p><h3 id="Attended-Elastic-Demand-Bounds"><a class="docs-heading-anchor" href="#Attended-Elastic-Demand-Bounds">Attended Elastic Demand Bounds</a><a id="Attended-Elastic-Demand-Bounds-1"></a><a class="docs-heading-anchor-permalink" href="#Attended-Elastic-Demand-Bounds" title="Permalink"></a></h3><p class="math-container">\[    0 \leq d^E_{j, \tau} \leq D_{j, \tau, \omega}, \quad
    \forall j \in J^{DE}, \tau \in B(t)\]</p><h2 id="Objective-Function"><a class="docs-heading-anchor" href="#Objective-Function">Objective Function</a><a id="Objective-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Objective-Function" title="Permalink"></a></h2><p class="math-container">\[\text{min} \quad C_{\$ \rightarrow k\$} \sum_{\tau \in B(t)} \Bigg(
    C_{GW \rightarrow MW} \bigg( \sum_{j \in J^D} C^\delta \delta_{j, \tau}
    + \sum_{j \in J^{DF}} C^{\delta^F}_{j, \tau} \delta^F_{j, \tau}
    - \sum_{j \in J^{DE}} P_{j, \tau}(\omega) d^E_{j, \tau} \bigg) 
    + \sum_{j \in J^B} C^S_j s^B_{j, \tau} \\
    + \sum_{j \in J^H} \left( C^\eta \eta_{j, \tau}  + C^z z_{j, \tau} \right)
    + \sum_{j \in J^T} \left( C^{T_{up}}_j y^T_{j, \tau}
    + C^{T_{down}}_j w^T_{j, \tau} \right) \\
    +  \sum_{j \in J^T} C^T_j g^T_{j, \tau}
    + \sum_{j \in J^R} C^{Rz}_j z^r_{j, \tau} + \sum_{j \in J^R} C^R_j g^R_{j, \tau} 
    \Bigg)\]</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="conceptual_formulation.html">« Conceptual formulations</a><a class="docs-footer-nextpage" href="market_clearing_problem.html">Market clearing problem »</a><div class="flexbox-break"></div></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 5 February 2026 20:52">Thursday 5 February 2026</span>. Using Julia version 1.11.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
