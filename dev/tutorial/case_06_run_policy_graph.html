<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Policy graphs example: running · IARA.jl</title><meta name="title" content="Policy graphs example: running · IARA.jl"/><meta property="og:title" content="Policy graphs example: running · IARA.jl"/><meta property="twitter:title" content="Policy graphs example: running · IARA.jl"/><meta name="description" content="Documentation for IARA.jl."/><meta property="og:description" content="Documentation for IARA.jl."/><meta property="twitter:description" content="Documentation for IARA.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="IARA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">IARA.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">About IARA</a></li><li><span class="tocitem">Getting started</span><ul><li><a class="tocitem" href="first_execution.html">My first execution</a></li><li><a class="tocitem" href="case_building.html">Editing physical data</a></li><li><a class="tocitem" href="clearing_executions.html">Editing clearing options</a></li></ul></li><li><span class="tocitem">Conceptual overview</span><ul><li><a class="tocitem" href="../key_features.html">Key features of IARA</a></li><li><a class="tocitem" href="../clearing_procedure.html">The market clearing structure</a></li><li><a class="tocitem" href="../hydro_challenges.html">Hydro reservoirs, cascades and virtual reservoirs</a></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Formulations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../conceptual_formulation.html">Conceptual formulations</a></li><li><a class="tocitem" href="../centralized_operation_problem.html">Centralized operation problem</a></li><li><a class="tocitem" href="../market_clearing_problem.html">Market clearing problem</a></li><li><a class="tocitem" href="../heuristic_bids.html">Heuristic bids for bidding groups</a></li><li><a class="tocitem" href="../heuristic_bids_vr.html">Heuristic bids for virtual reservoirs</a></li><li><a class="tocitem" href="../supply_function_equilibrium.html">Supply Function Equilibrium</a></li><li><a class="tocitem" href="../post_processing_virtual_reservoir.html">Virtual reservoirs pre and post processing</a></li><li><a class="tocitem" href="../bid_limits.html">Bid price limits</a></li></ul></li></ul></li><li><span class="tocitem">Use guides and tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Building a case from scratch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../build_a_case_from_scratch.html">Introduction</a></li><li><a class="tocitem" href="case_01_build_base_case.html">Case creation example</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Manipulating bid data</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../bidding_formats.html">Introduction</a></li><li><a class="tocitem" href="../heuristic_bid_examples.html">Heuristic bids examples</a></li><li><a class="tocitem" href="case_03_build_profile_base_case.html">Profile bids example</a></li><li><a class="tocitem" href="case_04_build_multi_min_activation.html">Minimum activation bids example</a></li><li><a class="tocitem" href="case_05_build_reservoir_case.html">Virtual reservoir example</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox" checked/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Structuring the policy graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../intro_policy_graph.html">Introduction</a></li><li><a class="tocitem" href="case_06_build_policy_graph.html">Policy graphs example: building</a></li><li class="is-active"><a class="tocitem" href="case_06_run_policy_graph.html">Policy graphs example: running</a><ul class="internal"><li><a class="tocitem" href="#Recap"><span>Recap</span></a></li><li><a class="tocitem" href="#Running-the-Case:-Linear-Policy-Graph-with-2-Stages"><span>Running the Case: Linear Policy Graph with 2 Stages</span></a></li><li><a class="tocitem" href="#Running-the-Case:-Linear-Policy-Graph-with-10-Stages"><span>Running the Case: Linear Policy Graph with 10 Stages</span></a></li><li><a class="tocitem" href="#Running-the-Case:-Cyclic-Policy-Graph-with-2-Stages"><span>Running the Case: Cyclic Policy Graph with 2 Stages</span></a></li><li><a class="tocitem" href="#Conclusion"><span>Conclusion</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Custom Plots</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="plots_tutorial.html">Plotting</a></li></ul></li></ul></li><li><span class="tocitem">Input and Outputs</span><ul><li><a class="tocitem" href="../quiver_format.html">Quiver</a></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Input files</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../input_files.html">Input files table</a></li><li><a class="tocitem" href="../how_to_input_fcf.html">How to Input a FCF File</a></li></ul></li><li><a class="tocitem" href="../output_files.html">Output files</a></li></ul></li><li><span class="tocitem">Developer Docs</span><ul><li><a class="tocitem" href="../contributing.html">Contributing</a></li><li><a class="tocitem" href="../style_guide.html">Style guide</a></li><li><a class="tocitem" href="../development_guides.html">Development guides</a></li></ul></li><li><a class="tocitem" href="../iara_platform.html">IARA Platform</a></li><li><a class="tocitem" href="../api_reference.html">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Use guides and tutorials</a></li><li><a class="is-disabled">Structuring the policy graph</a></li><li class="is-active"><a href="case_06_run_policy_graph.html">Policy graphs example: running</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="case_06_run_policy_graph.html">Policy graphs example: running</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Policy-Graphs-Running"><a class="docs-heading-anchor" href="#Policy-Graphs-Running">Policy Graphs - Running</a><a id="Policy-Graphs-Running-1"></a><a class="docs-heading-anchor-permalink" href="#Policy-Graphs-Running" title="Permalink"></a></h1><blockquote><p>The data for this case is available in the folder <a href="https://github.com/psrenergy/IARA.jl/tree/main/docs/src/tutorial/data/case_6"><code>data/case_6</code></a></p></blockquote><h2 id="Recap"><a class="docs-heading-anchor" href="#Recap">Recap</a><a id="Recap-1"></a><a class="docs-heading-anchor-permalink" href="#Recap" title="Permalink"></a></h2><p>In this tutorial, we explore the differences between two types of policy graphs, linear and cyclic, using a simple model with varying numbers of periods. The model contains one zone, one bus, one demand point, one hydro unit, and one thermal unit. We will analyze how changes in policy graph types affect the decision-making process in centralized operations, focusing on the impact of different configurations of periods.</p><p>We&#39;ll start by importing the necessary packages.</p><pre><code class="language-julia hljs">using Dates
using DataFrames
using IARA</code></pre><p>First, let&#39;s create a folder that will contain the execution for each iteration.</p><pre><code class="language-julia hljs">const PATH_ORIGINAL = joinpath(@__DIR__, &quot;data&quot;, &quot;case_6&quot;)

const PATH_EXECUTION = joinpath(@__DIR__, &quot;case_6_execution&quot;)
if !isdir(PATH_EXECUTION)
    mkdir(PATH_EXECUTION)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;/home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution&quot;</code></pre><h2 id="Running-the-Case:-Linear-Policy-Graph-with-2-Stages"><a class="docs-heading-anchor" href="#Running-the-Case:-Linear-Policy-Graph-with-2-Stages">Running the Case: Linear Policy Graph with 2 Stages</a><a id="Running-the-Case:-Linear-Policy-Graph-with-2-Stages-1"></a><a class="docs-heading-anchor-permalink" href="#Running-the-Case:-Linear-Policy-Graph-with-2-Stages" title="Permalink"></a></h2><p>Let&#39;s create a copy of the original case.</p><pre><code class="language-julia hljs">const PATH_LINEAR_2 = joinpath(PATH_EXECUTION, &quot;linear_2&quot;)
if !isdir(PATH_LINEAR_2)
    mkdir(PATH_LINEAR_2)
end

cp(PATH_ORIGINAL, PATH_LINEAR_2; force = true);</code></pre><p>In the <a href="case_06_build_policy_graph.html">previous section</a> we created a case with 2 periods and a linear policy graph. Therefore, we do not need to update the number of periods or the policy graph type.</p><p>Let&#39;s begin by running the case with a linear policy graph and 2 periods. This scenario simulates a situation where decision-making happens over two periods with no cyclic behavior.</p><pre><code class="language-julia hljs">IARA.train_min_cost(PATH_LINEAR_2)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">[ Info: IARA - version: x.x.x
[ Info:
[ Info: Execution options
[ Info:    Path: /home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/linear_2
[ Info:    Output path: /home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/linear_2/outputs
[ Info:    Run mode: TRAIN_MIN_COST
[ Info:    Plot results: false
[ Info:    periods: 2
[ Info:    scenarios: 3
[ Info:    subperiods: 1
[ Info:
[ Info: Min cost Subproblems:
[ Info:    Integer variables: CALCULATE_NORMALLY
[ Info:    Network representation: NODAL
[ Info:
[ Info: Collections
[ Info:    HydroUnit: 1 element(s)
[ Info:    ThermalUnit: 2 element(s)
[ Info:    Zone: 1 element(s)
[ Info:    Bus: 1 element(s)
[ Info:    DemandUnit: 1 element(s)
[ Info:    GaugingStation: 1 element(s)
[ Info:
[ Info: Time Series from external files
[ Info:    inflow
[ Info:    demand
[ Info:
[ Info: Cuts file:
[ Info:    No cuts file
[ Info:
-------------------------------------------------------------------
         SDDP.jl (c) Oscar Dowson and contributors, 2017-25
-------------------------------------------------------------------
problem
  nodes           : 2
  state variables : 1
  scenarios       : 9.00000e+00
  existing cuts   : false
options
  solver          : serial mode
  risk measure    : SDDP.Expectation()
  sampling scheme : SDDP.InSampleMonteCarlo
subproblem structure
  VariableRef                                  : [13, 13]
  JuMP.AffExpr in MOI.EqualTo{Float64}         : [4, 4]
  JuMP.VariableRef in MOI.GreaterThan{Float64} : [10, 10]
  JuMP.VariableRef in MOI.LessThan{Float64}    : [6, 7]
  JuMP.VariableRef in MOI.Parameter{Float64}   : [2, 2]
numerical stability report
  matrix range     [1e+00, 1e+03]
  objective range  [1e-02, 9e+02]
  bounds range     [1e+01, 1e+03]
  rhs range        [0e+00, 0e+00]
-------------------------------------------------------------------
 iteration    simulation      bound        time (s)     solves  pid
-------------------------------------------------------------------
         1   8.435332e-01  0.000000e+00  7.148981e-03         8   1
        40   0.000000e+00  0.000000e+00  9.460306e-02       356   1
-------------------------------------------------------------------
status         : simulation_stopping
total time (s) : 9.460306e-02
total solves   : 356
best bound     :  0.000000e+00
simulation ci  :  4.211276e-02 ± 5.761224e-02
numeric issues : 0
-------------------------------------------------------------------

[ Info: Running post-processing routines</code></pre><h3 id="Analyzing-the-results"><a class="docs-heading-anchor" href="#Analyzing-the-results">Analyzing the results</a><a id="Analyzing-the-results-1"></a><a class="docs-heading-anchor-permalink" href="#Analyzing-the-results" title="Permalink"></a></h3><p>Here&#39;s the graph of the final volume at each period</p><pre><code class="language-julia hljs">hydro_final_volume_all =
IARA.custom_plot(
    hydro_final_volume_all,
    IARA.PlotTimeSeriesQuantiles;
    title = &quot;Reservoir Final Volume&quot;,
    agents = [&quot;Hydro1&quot;],
    period = 1:2,
)</code></pre><div class="plotlylight-parent"><script src="https://cdn.plot.ly/plotly-2.35.2.min.js" charset="utf-8"></script><div class="plotlylight-plot-div" id="plotlyx-pdzcrqlyjh"></div><script>Plotly.newPlot("plotlyx-pdzcrqlyjh",[{"x":[1,2,2,1],"y":[0.3110400140285492,0.0,0.0,0.3110400140285492],"name":"Hydro1 (P10 - P90)","fill":"toself","line":{"color":"transparent"},"fillcolor":"rgba(31, 119, 180, 0.2)","type":"line","text":["2024/01<br>Subperiod 1","2024/02<br>Subperiod 1"],"hovertemplate":"%{y} hm3","hovermode":"closest"},{"x":[1,2],"y":[0.3110400140285492,0.0],"name":"Hydro1 (P50)","line":{"color":"rgb(31, 119, 180)"},"type":"line","text":["2024/01<br>Subperiod 1","2024/02<br>Subperiod 1"],"hovertemplate":"%{y} hm3<br>%{text}"}],{"template":{"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"bgcolor":"white","angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"ternary":{"bgcolor":"white","aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]],"sequentialminus":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"white","subunitcolor":"#C8D4E3","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}},"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]}},"title":"Reservoir Final Volume - Scenario quantiles","xaxis":{"ticktext":["2024/01","2024/02"],"tickmode":"array","tickvals":[1,2],"title":"Period"},"yaxis":{"title":"hm3"}},{"responsive":true,"displaylogo":false})</script></div><p>For this case, the optimal strategy for the hydro unit is to release water in the last period. This happens because there are no future costs associated with the last period, encouraging full use of available resources.</p><h2 id="Running-the-Case:-Linear-Policy-Graph-with-10-Stages"><a class="docs-heading-anchor" href="#Running-the-Case:-Linear-Policy-Graph-with-10-Stages">Running the Case: Linear Policy Graph with 10 Stages</a><a id="Running-the-Case:-Linear-Policy-Graph-with-10-Stages-1"></a><a class="docs-heading-anchor-permalink" href="#Running-the-Case:-Linear-Policy-Graph-with-10-Stages" title="Permalink"></a></h2><p>Next, we increase the number of periods to 10 while keeping the policy graph linear. This allows us to see how a longer planning horizon influences the decision-making process.</p><pre><code class="language-julia hljs">const PATH_LINEAR_10 = joinpath(PATH_EXECUTION, &quot;linear_10&quot;)

if !isdir(PATH_LINEAR_10)
    mkdir(PATH_LINEAR_10)
end

cp(PATH_ORIGINAL, PATH_LINEAR_10; force = true);</code></pre><p>Now we need to update the number of periods to 10.</p><pre><code class="language-julia hljs">db = IARA.load_study(PATH_LINEAR_10; read_only = false)

IARA.update_configuration!(
    db;
    number_of_periods = 10,
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite(SQLite.DB(&quot;/home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/linear_10/study.iara&quot;), &quot;/home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/linear_10/study.iara&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.Collection}(&quot;Configuration&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;Configuration&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, &quot;\&quot;Configuration\&quot;&quot;, true, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;number_of_nodes&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;number_of_nodes&quot;, Int64, missing, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;number_of_subscenarios&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;number_of_subscenarios&quot;, Int64, 1, true, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;train_mincost_iteration_limit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;train_mincost_iteration_limit&quot;, Int64, missing, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;initial_date_time&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;initial_date_time&quot;, String, &quot;\&quot;2024-01-01\&quot;&quot;, true, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;time_series_step&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;time_series_step&quot;, Int64, 0, true, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;hydro_balance_subperiod_resolution&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;hydro_balance_subperiod_resolution&quot;, Int64, 0, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;thermal_unit_intra_period_operation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;thermal_unit_intra_period_operation&quot;, Int64, missing, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;cycle_discount_rate&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;cycle_discount_rate&quot;, Float64, missing, true, &quot;Configuration&quot;, &quot;Configuration&quot;)…), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(&quot;subperiod_duration_in_hours&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.VectorParameter{Float64}(&quot;subperiod_duration_in_hours&quot;, Float64, missing, false, &quot;subperiod_duration&quot;, &quot;Configuration&quot;, &quot;Configuration_vector_subperiod_duration&quot;), &quot;expected_number_of_repeats_per_node&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.VectorParameter{Float64}(&quot;expected_number_of_repeats_per_node&quot;, Float64, missing, false, &quot;expected_number_of_repeats_per_node&quot;, &quot;Configuration&quot;, &quot;Configuration_vector_expected_number_of_repeats_per_node&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}(&quot;hour_subperiod_map&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;hour_subperiod_map&quot;, String, missing, false, &quot;Configuration&quot;, &quot;Configuration_time_series_files&quot;), &quot;fcf_cuts&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;fcf_cuts&quot;, String, missing, false, &quot;Configuration&quot;, &quot;Configuration_time_series_files&quot;), &quot;period_season_map&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;period_season_map&quot;, String, missing, false, &quot;Configuration&quot;, &quot;Configuration_time_series_files&quot;))), &quot;RenewableUnit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;RenewableUnit&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;RenewableUnit&quot;, &quot;RenewableUnit&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;RenewableUnit&quot;, &quot;RenewableUnit&quot;), &quot;technology_type&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;technology_type&quot;, Int64, missing, false, &quot;RenewableUnit&quot;, &quot;RenewableUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;biddinggroup_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;biddinggroup_id&quot;, Int64, missing, false, &quot;RenewableUnit&quot;, &quot;BiddingGroup&quot;, &quot;id&quot;, &quot;RenewableUnit&quot;), &quot;bus_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_id&quot;, Int64, missing, false, &quot;RenewableUnit&quot;, &quot;Bus&quot;, &quot;id&quot;, &quot;RenewableUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;om_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;om_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;curtailment_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;curtailment_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}(&quot;generation_ex_ante&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;generation_ex_ante&quot;, String, missing, false, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_files&quot;), &quot;generation_ex_post&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;generation_ex_post&quot;, String, missing, false, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_files&quot;))), &quot;HydroUnit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;HydroUnit&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;initial_volume&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;initial_volume&quot;, Float64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;initial_volume_type&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;initial_volume_type&quot;, Int64, 2, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;has_commitment&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;has_commitment&quot;, Int64, 0, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;intra_period_operation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;intra_period_operation&quot;, Int64, 0, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;initial_volume_variation_type&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;initial_volume_variation_type&quot;, Int64, 0, true, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;minimum_outflow_violation_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;minimum_outflow_violation_cost&quot;, Float64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;spillage_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;spillage_cost&quot;, Float64, 0.0, true, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;minimum_outflow_violation_benchmark&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;minimum_outflow_violation_benchmark&quot;, Float64, 0.0, true, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;)…), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;hydrounit_spill_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;hydrounit_spill_to&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;, &quot;spill_to&quot;, &quot;HydroUnit&quot;), &quot;hydrounit_turbine_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;hydrounit_turbine_to&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;, &quot;turbine_to&quot;, &quot;HydroUnit&quot;), &quot;gaugingstation_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;gaugingstation_id&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;GaugingStation&quot;, &quot;id&quot;, &quot;HydroUnit&quot;), &quot;biddinggroup_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;biddinggroup_id&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;BiddingGroup&quot;, &quot;id&quot;, &quot;HydroUnit&quot;), &quot;bus_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_id&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;Bus&quot;, &quot;id&quot;, &quot;HydroUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;production_factor&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;production_factor&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_turbining&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_turbining&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_volume&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_volume&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_volume&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_volume&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_outflow&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_outflow&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;om_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;om_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}(&quot;inflow_ex_ante&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_ex_ante&quot;, String, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_files&quot;), &quot;inflow_ex_post&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_ex_post&quot;, String, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_files&quot;), &quot;initial_volume_by_scenario&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;initial_volume_by_scenario&quot;, String, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_files&quot;))), &quot;GaugingStation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;GaugingStation&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;GaugingStation&quot;, &quot;GaugingStation&quot;), &quot;inflow_initial_state_variation_type&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;inflow_initial_state_variation_type&quot;, Int64, 0, true, &quot;GaugingStation&quot;, &quot;GaugingStation&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;gaugingstation_downstream&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;gaugingstation_downstream&quot;, Int64, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation&quot;, &quot;downstream&quot;, &quot;GaugingStation&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;historical_inflow&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;historical_inflow&quot;, Float64, missing, false, &quot;historical_inflow&quot;, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_historical_inflow&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}(&quot;inflow_initial_state_by_scenario&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_initial_state_by_scenario&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;parp_coefficients&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;parp_coefficients&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;inflow_period_average&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_period_average&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;inflow_period_std_dev&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_period_std_dev&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;inflow_noise_ex_ante&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_noise_ex_ante&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;inflow_noise_ex_post&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_noise_ex_post&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;))), &quot;ThermalUnit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;ThermalUnit&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;has_commitment&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;has_commitment&quot;, Int64, 0, true, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_ramp_up&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;max_ramp_up&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_ramp_down&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;max_ramp_down&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;min_uptime&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;min_uptime&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_uptime&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;max_uptime&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;min_downtime&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;min_downtime&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_startups&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;max_startups&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_shutdowns&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;max_shutdowns&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;)…), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;biddinggroup_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;biddinggroup_id&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;BiddingGroup&quot;, &quot;id&quot;, &quot;ThermalUnit&quot;), &quot;bus_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_id&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;Bus&quot;, &quot;id&quot;, &quot;ThermalUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;startup_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;startup_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;om_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;om_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;Zone&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;Zone&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;Zone&quot;, &quot;Zone&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;Zone&quot;, &quot;Zone&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;Bus&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;Bus&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;Bus&quot;, &quot;Bus&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;Bus&quot;, &quot;Bus&quot;), &quot;latitude&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;latitude&quot;, Float64, missing, false, &quot;Bus&quot;, &quot;Bus&quot;), &quot;longitude&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;longitude&quot;, Float64, missing, false, &quot;Bus&quot;, &quot;Bus&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;zone_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;zone_id&quot;, Int64, missing, false, &quot;Bus&quot;, &quot;Zone&quot;, &quot;id&quot;, &quot;Bus&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;DCLine&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;DCLine&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;DCLine&quot;, &quot;DCLine&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;DCLine&quot;, &quot;DCLine&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;bus_from&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_from&quot;, Int64, missing, false, &quot;DCLine&quot;, &quot;Bus&quot;, &quot;from&quot;, &quot;DCLine&quot;), &quot;bus_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_to&quot;, Int64, missing, false, &quot;DCLine&quot;, &quot;Bus&quot;, &quot;to&quot;, &quot;DCLine&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;DCLine&quot;, &quot;DCLine_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;capacity_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;capacity_to&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;DCLine&quot;, &quot;DCLine_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;capacity_from&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;capacity_from&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;DCLine&quot;, &quot;DCLine_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;Branch&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;Branch&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;Branch&quot;, &quot;Branch&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;Branch&quot;, &quot;Branch&quot;), &quot;line_model&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;line_model&quot;, Int64, 0, true, &quot;Branch&quot;, &quot;Branch&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;bus_from&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_from&quot;, Int64, missing, false, &quot;Branch&quot;, &quot;Bus&quot;, &quot;from&quot;, &quot;Branch&quot;), &quot;bus_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_to&quot;, Int64, missing, false, &quot;Branch&quot;, &quot;Bus&quot;, &quot;to&quot;, &quot;Branch&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;Branch&quot;, &quot;Branch_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;capacity&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;capacity&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;Branch&quot;, &quot;Branch_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;reactance&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;reactance&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;Branch&quot;, &quot;Branch_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;BatteryUnit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;BatteryUnit&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;BatteryUnit&quot;, &quot;BatteryUnit&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;BatteryUnit&quot;, &quot;BatteryUnit&quot;), &quot;initial_storage&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;initial_storage&quot;, Float64, missing, false, &quot;BatteryUnit&quot;, &quot;BatteryUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;biddinggroup_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;biddinggroup_id&quot;, Int64, missing, false, &quot;BatteryUnit&quot;, &quot;BiddingGroup&quot;, &quot;id&quot;, &quot;BatteryUnit&quot;), &quot;bus_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_id&quot;, Int64, missing, false, &quot;BatteryUnit&quot;, &quot;Bus&quot;, &quot;id&quot;, &quot;BatteryUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_storage&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_storage&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_storage&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_storage&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_capacity&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_capacity&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;om_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;om_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}())…), false, PSRClassesInterface.PSRDatabaseSQLite.TimeController(Dict{Tuple{String, String}, PSRClassesInterface.PSRDatabaseSQLite.AttributeTimeSeriesCache}(), Dict{String, Bool}()))</code></pre><p>We will also update the inflow and demand time series files to have 10 periods.</p><pre><code class="language-julia hljs">IARA.link_time_series_to_file(
    db,
    &quot;DemandUnit&quot;;
    demand_ex_ante = &quot;demands_10_periods&quot;,
)

IARA.link_time_series_to_file(
    db,
    &quot;HydroUnit&quot;;
    inflow_ex_ante = &quot;inflow_10_periods&quot;,
)

IARA.close_study!(db)</code></pre><p>Let&#39;s run the case.</p><pre><code class="language-julia hljs">IARA.train_min_cost(PATH_LINEAR_10)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">[ Info: IARA - version: x.x.x
[ Info:
[ Info: Execution options
[ Info:    Path: /home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/linear_10
[ Info:    Output path: /home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/linear_10/outputs
[ Info:    Run mode: TRAIN_MIN_COST
[ Info:    Plot results: false
[ Info:    periods: 10
[ Info:    scenarios: 3
[ Info:    subperiods: 1
[ Info:
[ Info: Min cost Subproblems:
[ Info:    Integer variables: CALCULATE_NORMALLY
[ Info:    Network representation: NODAL
[ Info:
[ Info: Collections
[ Info:    HydroUnit: 1 element(s)
[ Info:    ThermalUnit: 2 element(s)
[ Info:    Zone: 1 element(s)
[ Info:    Bus: 1 element(s)
[ Info:    DemandUnit: 1 element(s)
[ Info:    GaugingStation: 1 element(s)
[ Info:
[ Info: Time Series from external files
[ Info:    inflow
[ Info:    demand
[ Info:
[ Info: Cuts file:
[ Info:    No cuts file
[ Info:
-------------------------------------------------------------------
         SDDP.jl (c) Oscar Dowson and contributors, 2017-25
-------------------------------------------------------------------
problem
  nodes           : 10
  state variables : 1
  scenarios       : 5.90490e+04
  existing cuts   : false
options
  solver          : serial mode
  risk measure    : SDDP.Expectation()
  sampling scheme : SDDP.InSampleMonteCarlo
subproblem structure
  VariableRef                                  : [13, 13]
  JuMP.AffExpr in MOI.EqualTo{Float64}         : [4, 4]
  JuMP.VariableRef in MOI.GreaterThan{Float64} : [10, 10]
  JuMP.VariableRef in MOI.LessThan{Float64}    : [6, 7]
  JuMP.VariableRef in MOI.Parameter{Float64}   : [2, 2]
numerical stability report
  matrix range     [1e+00, 1e+03]
  objective range  [8e-03, 9e+02]
  bounds range     [1e+01, 1e+03]
  rhs range        [0e+00, 0e+00]
-------------------------------------------------------------------
 iteration    simulation      bound        time (s)     solves  pid
-------------------------------------------------------------------
         1   3.840819e+00  0.000000e+00  2.676606e-02        40   1
        40   0.000000e+00  0.000000e+00  9.624231e-01      3600   1
-------------------------------------------------------------------
status         : simulation_stopping
total time (s) : 9.624231e-01
total solves   : 3600
best bound     :  0.000000e+00
simulation ci  :  1.917500e-01 ± 2.623230e-01
numeric issues : 0
-------------------------------------------------------------------

[ Info: Running post-processing routines</code></pre><h3 id="Analyzing-the-results-2"><a class="docs-heading-anchor" href="#Analyzing-the-results-2">Analyzing the results</a><a class="docs-heading-anchor-permalink" href="#Analyzing-the-results-2" title="Permalink"></a></h3><p>Here&#39;s the graph of the final volume at each period</p><pre><code class="language-julia hljs">hydro_final_volume_all =
IARA.custom_plot(
    hydro_final_volume_all,
    IARA.PlotTimeSeriesQuantiles;
    title = &quot;Reservoir Final Volume&quot;,
    agents = [&quot;Hydro1&quot;],
    period = 1:2,
)</code></pre><div class="plotlylight-parent"><script src="https://cdn.plot.ly/plotly-2.35.2.min.js" charset="utf-8"></script><div class="plotlylight-plot-div" id="plotlyx-jafjaxoazh"></div><script>Plotly.newPlot("plotlyx-jafjaxoazh",[{"x":[1,2,2,1],"y":[0.3110400140285492,0.0,0.0,0.3110400140285492],"name":"Hydro1 (P10 - P90)","fill":"toself","line":{"color":"transparent"},"fillcolor":"rgba(31, 119, 180, 0.2)","type":"line","text":["2024/01<br>Subperiod 1","2024/02<br>Subperiod 1"],"hovertemplate":"%{y} hm3","hovermode":"closest"},{"x":[1,2],"y":[0.3110400140285492,0.0],"name":"Hydro1 (P50)","line":{"color":"rgb(31, 119, 180)"},"type":"line","text":["2024/01<br>Subperiod 1","2024/02<br>Subperiod 1"],"hovertemplate":"%{y} hm3<br>%{text}"}],{"template":{"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"bgcolor":"white","angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"ternary":{"bgcolor":"white","aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]],"sequentialminus":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"white","subunitcolor":"#C8D4E3","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}},"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]}},"title":"Reservoir Final Volume - Scenario quantiles","xaxis":{"ticktext":["2024/01","2024/02"],"tickmode":"array","tickvals":[1,2],"title":"Period"},"yaxis":{"title":"hm3"}},{"responsive":true,"displaylogo":false})</script></div><p>With 10 periods, the model accounts for a longer planning horizon, influencing the decision to release water more conservatively in earlier periods. The hydro unit no longer empties the reservoir in a single burst but instead manages water levels more carefully over time, anticipating future periods.</p><pre><code class="language-julia hljs">IARA.custom_plot(
    hydro_final_volume_all,
    IARA.PlotTimeSeriesQuantiles;
    title = &quot;Reservoir Final Volume&quot;,
    agents = [&quot;Hydro1&quot;],
    period = 3:10,
)</code></pre><div class="plotlylight-parent"><script src="https://cdn.plot.ly/plotly-2.35.2.min.js" charset="utf-8"></script><div class="plotlylight-plot-div" id="plotlyx-nltpdpumue"></div><script>Plotly.newPlot("plotlyx-nltpdpumue",[{"x":[1,2,3,4,5,6,7,8,8,7,6,5,4,3,2,1],"y":[0.3110400140285492,0.0,0.3110400140285492,0.0,0.3110400140285492,0.0,0.3110400140285492,0.0,0.0,0.3110400140285492,0.0,0.3110400140285492,0.0,0.3110400140285492,0.0,0.3110400140285492],"name":"Hydro1 (P10 - P90)","fill":"toself","line":{"color":"transparent"},"fillcolor":"rgba(31, 119, 180, 0.2)","type":"line","text":["2024/03<br>Subperiod 1","2024/04<br>Subperiod 1","2024/05<br>Subperiod 1","2024/06<br>Subperiod 1","2024/07<br>Subperiod 1","2024/08<br>Subperiod 1","2024/09<br>Subperiod 1","2024/10<br>Subperiod 1"],"hovertemplate":"%{y} hm3","hovermode":"closest"},{"x":[1,2,3,4,5,6,7,8],"y":[0.3110400140285492,0.0,0.3110400140285492,0.0,0.3110400140285492,0.0,0.3110400140285492,0.0],"name":"Hydro1 (P50)","line":{"color":"rgb(31, 119, 180)"},"type":"line","text":["2024/03<br>Subperiod 1","2024/04<br>Subperiod 1","2024/05<br>Subperiod 1","2024/06<br>Subperiod 1","2024/07<br>Subperiod 1","2024/08<br>Subperiod 1","2024/09<br>Subperiod 1","2024/10<br>Subperiod 1"],"hovertemplate":"%{y} hm3<br>%{text}"}],{"template":{"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"bgcolor":"white","angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"ternary":{"bgcolor":"white","aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]],"sequentialminus":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"white","subunitcolor":"#C8D4E3","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}},"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]}},"title":"Reservoir Final Volume - Scenario quantiles","xaxis":{"ticktext":["2024/03","2024/04","2024/05","2024/06","2024/07","2024/08","2024/09","2024/10"],"tickmode":"array","tickvals":[1,2,3,4,5,6,7,8],"title":"Period"},"yaxis":{"title":"hm3"}},{"responsive":true,"displaylogo":false})</script></div><p>As the planning horizon progresses, the model becomes more aggressive in its approach, depleting the reservoir by the end of the fourth year.</p><h2 id="Running-the-Case:-Cyclic-Policy-Graph-with-2-Stages"><a class="docs-heading-anchor" href="#Running-the-Case:-Cyclic-Policy-Graph-with-2-Stages">Running the Case: Cyclic Policy Graph with 2 Stages</a><a id="Running-the-Case:-Cyclic-Policy-Graph-with-2-Stages-1"></a><a class="docs-heading-anchor-permalink" href="#Running-the-Case:-Cyclic-Policy-Graph-with-2-Stages" title="Permalink"></a></h2><p>Now, we will switch the policy graph to cyclic, which assumes that the decision-making process repeats over time.</p><pre><code class="language-julia hljs">const PATH_CYCLIC_2 = joinpath(PATH_EXECUTION, &quot;cyclic_2&quot;)

if !isdir(PATH_CYCLIC_2)
    mkdir(PATH_CYCLIC_2)
end

cp(PATH_ORIGINAL, PATH_CYCLIC_2; force = true);</code></pre><p>Now we need to update the policy graph type to <code>CYCLIC_WITH_NULL_ROOT</code>.</p><pre><code class="language-julia hljs">db = IARA.load_study(PATH_CYCLIC_2; read_only = false)

IARA.update_configuration!(
    db;
    number_of_periods = 2,
    policy_graph_type = IARA.Configurations_PolicyGraphType.CYCLIC_WITH_NULL_ROOT,
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite(SQLite.DB(&quot;/home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/cyclic_2/study.iara&quot;), &quot;/home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/cyclic_2/study.iara&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.Collection}(&quot;Configuration&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;Configuration&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, &quot;\&quot;Configuration\&quot;&quot;, true, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;number_of_nodes&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;number_of_nodes&quot;, Int64, missing, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;number_of_subscenarios&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;number_of_subscenarios&quot;, Int64, 1, true, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;train_mincost_iteration_limit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;train_mincost_iteration_limit&quot;, Int64, missing, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;initial_date_time&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;initial_date_time&quot;, String, &quot;\&quot;2024-01-01\&quot;&quot;, true, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;time_series_step&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;time_series_step&quot;, Int64, 0, true, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;hydro_balance_subperiod_resolution&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;hydro_balance_subperiod_resolution&quot;, Int64, 0, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;thermal_unit_intra_period_operation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;thermal_unit_intra_period_operation&quot;, Int64, missing, false, &quot;Configuration&quot;, &quot;Configuration&quot;), &quot;cycle_discount_rate&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;cycle_discount_rate&quot;, Float64, missing, true, &quot;Configuration&quot;, &quot;Configuration&quot;)…), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(&quot;subperiod_duration_in_hours&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.VectorParameter{Float64}(&quot;subperiod_duration_in_hours&quot;, Float64, missing, false, &quot;subperiod_duration&quot;, &quot;Configuration&quot;, &quot;Configuration_vector_subperiod_duration&quot;), &quot;expected_number_of_repeats_per_node&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.VectorParameter{Float64}(&quot;expected_number_of_repeats_per_node&quot;, Float64, missing, false, &quot;expected_number_of_repeats_per_node&quot;, &quot;Configuration&quot;, &quot;Configuration_vector_expected_number_of_repeats_per_node&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}(&quot;hour_subperiod_map&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;hour_subperiod_map&quot;, String, missing, false, &quot;Configuration&quot;, &quot;Configuration_time_series_files&quot;), &quot;fcf_cuts&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;fcf_cuts&quot;, String, missing, false, &quot;Configuration&quot;, &quot;Configuration_time_series_files&quot;), &quot;period_season_map&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;period_season_map&quot;, String, missing, false, &quot;Configuration&quot;, &quot;Configuration_time_series_files&quot;))), &quot;RenewableUnit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;RenewableUnit&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;RenewableUnit&quot;, &quot;RenewableUnit&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;RenewableUnit&quot;, &quot;RenewableUnit&quot;), &quot;technology_type&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;technology_type&quot;, Int64, missing, false, &quot;RenewableUnit&quot;, &quot;RenewableUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;biddinggroup_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;biddinggroup_id&quot;, Int64, missing, false, &quot;RenewableUnit&quot;, &quot;BiddingGroup&quot;, &quot;id&quot;, &quot;RenewableUnit&quot;), &quot;bus_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_id&quot;, Int64, missing, false, &quot;RenewableUnit&quot;, &quot;Bus&quot;, &quot;id&quot;, &quot;RenewableUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;om_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;om_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;curtailment_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;curtailment_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}(&quot;generation_ex_ante&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;generation_ex_ante&quot;, String, missing, false, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_files&quot;), &quot;generation_ex_post&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;generation_ex_post&quot;, String, missing, false, &quot;RenewableUnit&quot;, &quot;RenewableUnit_time_series_files&quot;))), &quot;HydroUnit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;HydroUnit&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;initial_volume&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;initial_volume&quot;, Float64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;initial_volume_type&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;initial_volume_type&quot;, Int64, 2, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;has_commitment&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;has_commitment&quot;, Int64, 0, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;intra_period_operation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;intra_period_operation&quot;, Int64, 0, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;initial_volume_variation_type&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;initial_volume_variation_type&quot;, Int64, 0, true, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;minimum_outflow_violation_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;minimum_outflow_violation_cost&quot;, Float64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;spillage_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;spillage_cost&quot;, Float64, 0.0, true, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;), &quot;minimum_outflow_violation_benchmark&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;minimum_outflow_violation_benchmark&quot;, Float64, 0.0, true, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;)…), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;hydrounit_spill_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;hydrounit_spill_to&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;, &quot;spill_to&quot;, &quot;HydroUnit&quot;), &quot;hydrounit_turbine_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;hydrounit_turbine_to&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit&quot;, &quot;turbine_to&quot;, &quot;HydroUnit&quot;), &quot;gaugingstation_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;gaugingstation_id&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;GaugingStation&quot;, &quot;id&quot;, &quot;HydroUnit&quot;), &quot;biddinggroup_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;biddinggroup_id&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;BiddingGroup&quot;, &quot;id&quot;, &quot;HydroUnit&quot;), &quot;bus_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_id&quot;, Int64, missing, false, &quot;HydroUnit&quot;, &quot;Bus&quot;, &quot;id&quot;, &quot;HydroUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;production_factor&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;production_factor&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_turbining&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_turbining&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_volume&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_volume&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_volume&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_volume&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_outflow&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_outflow&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;om_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;om_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}(&quot;inflow_ex_ante&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_ex_ante&quot;, String, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_files&quot;), &quot;inflow_ex_post&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_ex_post&quot;, String, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_files&quot;), &quot;initial_volume_by_scenario&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;initial_volume_by_scenario&quot;, String, missing, false, &quot;HydroUnit&quot;, &quot;HydroUnit_time_series_files&quot;))), &quot;GaugingStation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;GaugingStation&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;GaugingStation&quot;, &quot;GaugingStation&quot;), &quot;inflow_initial_state_variation_type&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;inflow_initial_state_variation_type&quot;, Int64, 0, true, &quot;GaugingStation&quot;, &quot;GaugingStation&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;gaugingstation_downstream&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;gaugingstation_downstream&quot;, Int64, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation&quot;, &quot;downstream&quot;, &quot;GaugingStation&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;historical_inflow&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;historical_inflow&quot;, Float64, missing, false, &quot;historical_inflow&quot;, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_historical_inflow&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}(&quot;inflow_initial_state_by_scenario&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_initial_state_by_scenario&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;parp_coefficients&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;parp_coefficients&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;inflow_period_average&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_period_average&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;inflow_period_std_dev&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_period_std_dev&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;inflow_noise_ex_ante&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_noise_ex_ante&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;), &quot;inflow_noise_ex_post&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile{String}(&quot;inflow_noise_ex_post&quot;, String, missing, false, &quot;GaugingStation&quot;, &quot;GaugingStation_time_series_files&quot;))), &quot;ThermalUnit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;ThermalUnit&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;has_commitment&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;has_commitment&quot;, Int64, 0, true, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_ramp_up&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;max_ramp_up&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_ramp_down&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;max_ramp_down&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;min_uptime&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;min_uptime&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_uptime&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;max_uptime&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;min_downtime&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;min_downtime&quot;, Float64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_startups&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;max_startups&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;), &quot;max_shutdowns&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;max_shutdowns&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;ThermalUnit&quot;)…), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;biddinggroup_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;biddinggroup_id&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;BiddingGroup&quot;, &quot;id&quot;, &quot;ThermalUnit&quot;), &quot;bus_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_id&quot;, Int64, missing, false, &quot;ThermalUnit&quot;, &quot;Bus&quot;, &quot;id&quot;, &quot;ThermalUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;startup_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;startup_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_generation&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_generation&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;om_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;om_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;ThermalUnit&quot;, &quot;ThermalUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;Zone&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;Zone&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;Zone&quot;, &quot;Zone&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;Zone&quot;, &quot;Zone&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;Bus&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;Bus&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;Bus&quot;, &quot;Bus&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;Bus&quot;, &quot;Bus&quot;), &quot;latitude&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;latitude&quot;, Float64, missing, false, &quot;Bus&quot;, &quot;Bus&quot;), &quot;longitude&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;longitude&quot;, Float64, missing, false, &quot;Bus&quot;, &quot;Bus&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;zone_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;zone_id&quot;, Int64, missing, false, &quot;Bus&quot;, &quot;Zone&quot;, &quot;id&quot;, &quot;Bus&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;DCLine&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;DCLine&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;DCLine&quot;, &quot;DCLine&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;DCLine&quot;, &quot;DCLine&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;bus_from&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_from&quot;, Int64, missing, false, &quot;DCLine&quot;, &quot;Bus&quot;, &quot;from&quot;, &quot;DCLine&quot;), &quot;bus_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_to&quot;, Int64, missing, false, &quot;DCLine&quot;, &quot;Bus&quot;, &quot;to&quot;, &quot;DCLine&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;DCLine&quot;, &quot;DCLine_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;capacity_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;capacity_to&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;DCLine&quot;, &quot;DCLine_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;capacity_from&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;capacity_from&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;DCLine&quot;, &quot;DCLine_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;Branch&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;Branch&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;Branch&quot;, &quot;Branch&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;Branch&quot;, &quot;Branch&quot;), &quot;line_model&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;line_model&quot;, Int64, 0, true, &quot;Branch&quot;, &quot;Branch&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;bus_from&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_from&quot;, Int64, missing, false, &quot;Branch&quot;, &quot;Bus&quot;, &quot;from&quot;, &quot;Branch&quot;), &quot;bus_to&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_to&quot;, Int64, missing, false, &quot;Branch&quot;, &quot;Bus&quot;, &quot;to&quot;, &quot;Branch&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;Branch&quot;, &quot;Branch_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;capacity&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;capacity&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;Branch&quot;, &quot;Branch_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;reactance&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;reactance&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;Branch&quot;, &quot;Branch_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}()), &quot;BatteryUnit&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.Collection(&quot;BatteryUnit&quot;, OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter}(&quot;id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Int64}(&quot;id&quot;, Int64, missing, false, &quot;BatteryUnit&quot;, &quot;BatteryUnit&quot;), &quot;label&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{String}(&quot;label&quot;, String, missing, true, &quot;BatteryUnit&quot;, &quot;BatteryUnit&quot;), &quot;initial_storage&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarParameter{Float64}(&quot;initial_storage&quot;, Float64, missing, false, &quot;BatteryUnit&quot;, &quot;BatteryUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation}(&quot;biddinggroup_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;biddinggroup_id&quot;, Int64, missing, false, &quot;BatteryUnit&quot;, &quot;BiddingGroup&quot;, &quot;id&quot;, &quot;BatteryUnit&quot;), &quot;bus_id&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.ScalarRelation{Int64}(&quot;bus_id&quot;, Int64, missing, false, &quot;BatteryUnit&quot;, &quot;Bus&quot;, &quot;id&quot;, &quot;BatteryUnit&quot;)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorParameter}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.VectorRelation}(), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeries}(&quot;existing&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Int64}(&quot;existing&quot;, Int64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;min_storage&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;min_storage&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_storage&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_storage&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;max_capacity&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;max_capacity&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1), &quot;om_cost&quot; =&gt; PSRClassesInterface.PSRDatabaseSQLite.TimeSeries{Float64}(&quot;om_cost&quot;, Float64, missing, false, &quot;parameters&quot;, &quot;BatteryUnit&quot;, &quot;BatteryUnit_time_series_parameters&quot;, [&quot;date_time&quot;], 1)), OrderedCollections.OrderedDict{String, PSRClassesInterface.PSRDatabaseSQLite.TimeSeriesFile}())…), false, PSRClassesInterface.PSRDatabaseSQLite.TimeController(Dict{Tuple{String, String}, PSRClassesInterface.PSRDatabaseSQLite.AttributeTimeSeriesCache}(), Dict{String, Bool}()))</code></pre><p>We will also update the inflow and demand time series files to have 2 periods, and replace the period dimension with season, as required for cyclic cases.</p><pre><code class="language-julia hljs">IARA.link_time_series_to_file(
    db,
    &quot;DemandUnit&quot;;
    demand_ex_ante = &quot;demands_by_season&quot;,
)

IARA.link_time_series_to_file(
    db,
    &quot;HydroUnit&quot;;
    inflow_ex_ante = &quot;inflow_by_season&quot;,
)
;

IARA.close_study!(db)</code></pre><p>Let&#39;s run the case.</p><pre><code class="language-julia hljs">IARA.train_min_cost(PATH_CYCLIC_2)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">[ Info: IARA - version: x.x.x
[ Info:
[ Info: Execution options
[ Info:    Path: /home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/cyclic_2
[ Info:    Output path: /home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/case_6_execution/cyclic_2/outputs
[ Info:    Run mode: TRAIN_MIN_COST
[ Info:    Plot results: false
[ Info:    periods: 2
[ Info:    scenarios: 3
[ Info:    subperiods: 1
[ Info:
[ Info: Min cost Subproblems:
[ Info:    Integer variables: CALCULATE_NORMALLY
[ Info:    Network representation: NODAL
[ Info:
[ Info: Collections
[ Info:    HydroUnit: 1 element(s)
[ Info:    ThermalUnit: 2 element(s)
[ Info:    Zone: 1 element(s)
[ Info:    Bus: 1 element(s)
[ Info:    DemandUnit: 1 element(s)
[ Info:    GaugingStation: 1 element(s)
[ Info:
[ Info: Time Series from external files
[ Info:    inflow
[ Info:    demand
[ Info:
[ Info: Cuts file:
[ Info:    No cuts file
[ Info:
-------------------------------------------------------------------
         SDDP.jl (c) Oscar Dowson and contributors, 2017-25
-------------------------------------------------------------------
problem
  nodes           : 2
  state variables : 1
  scenarios       : Inf
  existing cuts   : false
options
  solver          : serial mode
  risk measure    : SDDP.Expectation()
  sampling scheme : SDDP.InSampleMonteCarlo
subproblem structure
  VariableRef                                  : [13, 13]
  JuMP.AffExpr in MOI.EqualTo{Float64}         : [4, 4]
  JuMP.VariableRef in MOI.GreaterThan{Float64} : [10, 10]
  JuMP.VariableRef in MOI.LessThan{Float64}    : [6, 6]
  JuMP.VariableRef in MOI.Parameter{Float64}   : [2, 2]
numerical stability report
  matrix range     [1e+00, 1e+03]
  objective range  [1e-02, 9e+02]
  bounds range     [1e+01, 1e+03]
  rhs range        [0e+00, 0e+00]
-------------------------------------------------------------------
 iteration    simulation      bound        time (s)     solves  pid
-------------------------------------------------------------------
         1   0.000000e+00  0.000000e+00  1.665497e-02        45   1
        13   0.000000e+00  0.000000e+00  1.251625e+00      2301   1
        20   0.000000e+00  0.000000e+00  1.502303e+00      2651   1
-------------------------------------------------------------------
status         : simulation_stopping
total time (s) : 1.502303e+00
total solves   : 2651
best bound     :  0.000000e+00
simulation ci  :  0.000000e+00 ± 0.000000e+00
numeric issues : 0
-------------------------------------------------------------------

[ Info: Running post-processing routines</code></pre><h3 id="Analyzing-the-results-3"><a class="docs-heading-anchor" href="#Analyzing-the-results-3">Analyzing the results</a><a class="docs-heading-anchor-permalink" href="#Analyzing-the-results-3" title="Permalink"></a></h3><p>Here&#39;s the graph of the final volume at each period</p><pre><code class="language-julia hljs">hydro_final_volume_all =
IARA.custom_plot(
    hydro_final_volume_all,
    IARA.PlotTimeSeriesQuantiles;
    title = &quot;Reservoir Final Volume&quot;,
    agents = [&quot;Hydro1&quot;],
    period = 1:2,
)</code></pre><div class="plotlylight-parent"><script src="https://cdn.plot.ly/plotly-2.35.2.min.js" charset="utf-8"></script><div class="plotlylight-plot-div" id="plotlyx-tpsaflryqz"></div><script>Plotly.newPlot("plotlyx-tpsaflryqz",[{"x":[1,2,2,1],"y":[0.0,0.0,0.0,0.0],"name":"Hydro1 (P10 - P90)","fill":"toself","line":{"color":"transparent"},"fillcolor":"rgba(31, 119, 180, 0.2)","type":"line","text":["2024/01<br>Subperiod 1","2024/02<br>Subperiod 1"],"hovertemplate":"%{y} hm3","hovermode":"closest"},{"x":[1,2],"y":[0.0,0.0],"name":"Hydro1 (P50)","line":{"color":"rgb(31, 119, 180)"},"type":"line","text":["2024/01<br>Subperiod 1","2024/02<br>Subperiod 1"],"hovertemplate":"%{y} hm3<br>%{text}"}],{"template":{"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"bgcolor":"white","angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"ternary":{"bgcolor":"white","aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]],"sequentialminus":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"white","subunitcolor":"#C8D4E3","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}},"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]}},"title":"Reservoir Final Volume - Scenario quantiles","xaxis":{"ticktext":["2024/01","2024/02"],"tickmode":"array","tickvals":[1,2],"title":"Period"},"yaxis":{"title":"hm3"}},{"responsive":true,"displaylogo":false})</script></div><p>With a cyclic policy graph, the decision-making process becomes more dynamic. The hydro unit is now planning with the expectation that the periods will repeat, creating an incentive to maintain a certain level of water in the reservoir.</p><h2 id="Conclusion"><a class="docs-heading-anchor" href="#Conclusion">Conclusion</a><a id="Conclusion-1"></a><a class="docs-heading-anchor-permalink" href="#Conclusion" title="Permalink"></a></h2><p>Through these simulations, we observe significant differences between linear and cyclic policy graphs. In the 2-period linear setup, the model chooses an aggressive strategy at the end of the first year, since there is no incentive to conserve water for future periods. This short-term focus leads to a rapid depletion of the reservoir.</p><p>With 10 periods in the linear policy graph, the model&#39;s approach becomes more conservative, water levels are managed more carefully during the early years, reflecting a longer-term outlook. However, the reservoir is still emptied by the end of the fourth year, indicating a gradual shift toward resource depletion as the planning horizon progresses.</p><p>In contrast, the cyclic policy graph with 2 periods adds a dynamic element to the decision-making process. Here, the hydro unit balances the immediate need for power generation with the understanding that the periods will repeat, encouraging more sustainable water management across cycles.</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="case_06_build_policy_graph.html">« Policy graphs example: building</a><a class="docs-footer-nextpage" href="plots_tutorial.html">Plotting »</a><div class="flexbox-break"></div></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 5 February 2026 20:22">Thursday 5 February 2026</span>. Using Julia version 1.11.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
