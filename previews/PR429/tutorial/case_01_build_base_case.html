<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Case creation example · IARA.jl</title><meta name="title" content="Case creation example · IARA.jl"/><meta property="og:title" content="Case creation example · IARA.jl"/><meta property="twitter:title" content="Case creation example · IARA.jl"/><meta name="description" content="Documentation for IARA.jl."/><meta property="og:description" content="Documentation for IARA.jl."/><meta property="twitter:description" content="Documentation for IARA.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="IARA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">IARA.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">About IARA</a></li><li><span class="tocitem">Getting started</span><ul><li><a class="tocitem" href="first_execution.html">My first execution</a></li><li><a class="tocitem" href="case_building.html">Editing physical data</a></li><li><a class="tocitem" href="clearing_executions.html">Editing clearing options</a></li></ul></li><li><span class="tocitem">Conceptual overview</span><ul><li><a class="tocitem" href="../key_features.html">Key features of IARA</a></li><li><a class="tocitem" href="../clearing_procedure.html">The market clearing structure</a></li><li><a class="tocitem" href="../hydro_challenges.html">Hydro reservoirs, cascades and virtual reservoirs</a></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Formulations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../conceptual_formulation.html">Conceptual formulations</a></li><li><a class="tocitem" href="../centralized_operation_problem.html">Centralized operation problem</a></li><li><a class="tocitem" href="../market_clearing_problem.html">Market clearing problem</a></li><li><a class="tocitem" href="../heuristic_bids.html">Heuristic bids for bidding groups</a></li><li><a class="tocitem" href="../heuristic_bids_vr.html">Heuristic bids for virtual reservoirs</a></li><li><a class="tocitem" href="../supply_function_equilibrium.html">Supply Function Equilibrium</a></li><li><a class="tocitem" href="../post_processing_virtual_reservoir.html">Virtual reservoirs pre and post processing</a></li><li><a class="tocitem" href="../bid_limits.html">Bid price limits</a></li></ul></li></ul></li><li><span class="tocitem">Use guides and tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox" checked/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Building a case from scratch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../build_a_case_from_scratch.html">Introduction</a></li><li class="is-active"><a class="tocitem" href="case_01_build_base_case.html">Case creation example</a><ul class="internal"><li><a class="tocitem" href="#Fundamental-elements"><span>Fundamental elements</span></a></li><li><a class="tocitem" href="#Spatial-Units"><span>Spatial Units</span></a></li><li><a class="tocitem" href="#Financial-elements"><span>Financial elements</span></a></li><li><a class="tocitem" href="#Physical-Elements"><span>Physical Elements</span></a></li><li><a class="tocitem" href="#Time-Series"><span>Time Series</span></a></li><li><a class="tocitem" href="#Closing-the-database"><span>Closing the database</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Manipulating bid data</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../bidding_formats.html">Introduction</a></li><li><a class="tocitem" href="../heuristic_bid_examples.html">Heuristic bids examples</a></li><li><a class="tocitem" href="case_03_build_profile_base_case.html">Profile bids example</a></li><li><a class="tocitem" href="case_04_build_multi_min_activation.html">Minimum activation bids example</a></li><li><a class="tocitem" href="case_05_build_reservoir_case.html">Virtual reservoir example</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Structuring the policy graph</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../intro_policy_graph.html">Introduction</a></li><li><a class="tocitem" href="case_06_build_policy_graph.html">Policy graphs example: building</a></li><li><a class="tocitem" href="case_06_run_policy_graph.html">Policy graphs example: running</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Custom Plots</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="plots_tutorial.html">Plotting</a></li></ul></li></ul></li><li><span class="tocitem">Input and Outputs</span><ul><li><a class="tocitem" href="../quiver_format.html">Quiver</a></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Input files</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../input_files.html">Input files table</a></li><li><a class="tocitem" href="../how_to_input_fcf.html">How to Input a FCF File</a></li></ul></li><li><a class="tocitem" href="../output_files.html">Output files</a></li></ul></li><li><span class="tocitem">Developer Docs</span><ul><li><a class="tocitem" href="../contributing.html">Contributing</a></li><li><a class="tocitem" href="../style_guide.html">Style guide</a></li><li><a class="tocitem" href="../development_guides.html">Development guides</a></li></ul></li><li><a class="tocitem" href="../iara_platform.html">IARA Platform</a></li><li><a class="tocitem" href="../api_reference.html">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Use guides and tutorials</a></li><li><a class="is-disabled">Building a case from scratch</a></li><li class="is-active"><a href="case_01_build_base_case.html">Case creation example</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="case_01_build_base_case.html">Case creation example</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Base-Case-Building"><a class="docs-heading-anchor" href="#Base-Case-Building">Base Case - Building</a><a id="Base-Case-Building-1"></a><a class="docs-heading-anchor-permalink" href="#Base-Case-Building" title="Permalink"></a></h1><blockquote><p>The data for this case is available in the folder <a href="https://github.com/psrenergy/IARA.jl/tree/main/docs/src/tutorial/data/case_1"><code>data/case_1</code></a></p></blockquote><p>In this tutorial, we will build a simple case containing some basic elements that can help us understand some of the functionalities of the IARA package.</p><p>We&#39;ll start by importing the necessary packages.</p><pre><code class="language-julia hljs">using Dates
using DataFrames
using IARA</code></pre><p>We also need to define a directory to store the case.</p><pre><code class="language-julia hljs">const PATH_BASE_CASE = joinpath(@__DIR__, &quot;data&quot;, &quot;case_1&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;/home/runner/work/IARA.jl/IARA.jl/docs/build/tutorial/data/case_1&quot;</code></pre><h2 id="Fundamental-elements"><a class="docs-heading-anchor" href="#Fundamental-elements">Fundamental elements</a><a id="Fundamental-elements-1"></a><a class="docs-heading-anchor-permalink" href="#Fundamental-elements" title="Permalink"></a></h2><h3 id="Parameters-indexed-in-time"><a class="docs-heading-anchor" href="#Parameters-indexed-in-time">Parameters indexed in time</a><a id="Parameters-indexed-in-time-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-indexed-in-time" title="Permalink"></a></h3><p>The parameters indexed in time in IARA model are defined by the number of periods and subperiods.</p><p>A period represents a macro time period, such as a week, month, season or year. In each period, the model will solve an optimization problem that represents the decisions that need to be made based on available information.</p><p>A subperiod represents a sub time period of the period, such as an hour, a day, or simply a collection of hours.</p><p>A scenario in this context are defined as openings. Each period has a number of openings, and as the process evolves, the next period will have a number of openings that grow exponentially (e.g., if a period has 3 openings, the next period will have <span>$3^2 = 9$</span> possibilities). These openings represent possible future paths or branches in the decision process. For example, a node could represent a dry or wet season, a high or low demand, or a high or low price scenario.</p><p>A Policy Graph is a representation of the decision making process in the model. There are two types of policy graphs: linear and cyclic.</p><p>In a linear policy graph, the periods are connected in a linear sequence, where the decisions made in one period affect the decisions in the next period.</p><p>In a cyclic policy graph, the periods are connected in a cyclic sequence, where the decisions made in the last period affect the decisions in the first period.</p><p>For more details, see the <a href="https://sddp.dev/stable/tutorial/first_steps/">SDDP.jl documentation</a>.</p><p>For this initial case, we will define a linear policy graph, with two periods (nodes) that will represent the <em>Winter</em> and <em>Summer</em> seasons and an yearly discount rate of 10%.</p><p>Additionally, each period will be consists of a single subperiod, with a duration of 24 hours.</p><p>In this case, we will define 4 scenarios.</p><p>Now we can initialize our case, with the defined temporal parameters. The cycle duration in hours is the duration of a subproblem, given by the sum of the subperiod duration vector, times the number of periods.</p><pre><code class="language-julia hljs">number_of_periods = 2
number_of_subperiods = 1
number_of_scenarios = 4
subperiod_duration_in_hours = [24.0]
cycle_discount_rate = 0.1
cycle_duration_in_hours = sum(subperiod_duration_in_hours) * number_of_periods</code></pre><p>Using <a href="../api_reference.html#IARA.create_study!-Tuple{String}"><code>IARA.create_study!</code></a> we can create a new study. This function will return a database reference that will store all the information about the case.</p><pre><code class="language-julia hljs">db = IARA.create_study!(PATH_BASE_CASE;
    number_of_periods = number_of_periods,
    number_of_scenarios = number_of_scenarios,
    number_of_subperiods = number_of_subperiods,
    subperiod_duration_in_hours = subperiod_duration_in_hours,
    policy_graph_type = IARA.Configurations_PolicyGraphType.LINEAR,
    number_of_nodes = number_of_periods,
    cycle_discount_rate = cycle_discount_rate,
    cycle_duration_in_hours = cycle_duration_in_hours,
    demand_deficit_cost = 3000.0,
    demand_scenarios_files = IARA.Configurations_UncertaintyScenariosFiles.ONLY_EX_ANTE,
    renewable_scenarios_files = IARA.Configurations_UncertaintyScenariosFiles.ONLY_EX_ANTE,
);</code></pre><h2 id="Spatial-Units"><a class="docs-heading-anchor" href="#Spatial-Units">Spatial Units</a><a id="Spatial-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Spatial-Units" title="Permalink"></a></h2><h3 id="Bus"><a class="docs-heading-anchor" href="#Bus">Bus</a><a id="Bus-1"></a><a class="docs-heading-anchor-permalink" href="#Bus" title="Permalink"></a></h3><p>A bus is a connection point in a power system where multiple electrical components (such as generators, loads, transformers, or transmission lines) are set. Each bus need to be linked to a financial zone, which will be introduced in the next step.</p><p>For this case, we will have a single bus, named &quot;Island&quot;, to which all the elements will be connected. We can add a bus to the database using the functionalities <a href="../api_reference.html#IARA.add_bus!-Tuple{PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite}"><code>IARA.add_bus!</code></a>.</p><pre><code class="language-julia hljs">IARA.add_bus!(db; label = &quot;Island&quot;)</code></pre><h2 id="Financial-elements"><a class="docs-heading-anchor" href="#Financial-elements">Financial elements</a><a id="Financial-elements-1"></a><a class="docs-heading-anchor-permalink" href="#Financial-elements" title="Permalink"></a></h2><h3 id="Zones"><a class="docs-heading-anchor" href="#Zones">Zones</a><a id="Zones-1"></a><a class="docs-heading-anchor-permalink" href="#Zones" title="Permalink"></a></h3><p>A zone is a group of buses or a geographical area within a power system, often representing a specific region or subsystem. For this case, we will also define a single zone.</p><p>We can add a zone to the database using the method <a href="../api_reference.html#IARA.add_zone!-Tuple{PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite}"><code>IARA.add_zone!</code></a>.</p><pre><code class="language-julia hljs">IARA.add_zone!(db; label = &quot;Island Zone&quot;)</code></pre><p>Now we can link the bus to the zone, using the function <a href="../api_reference.html#IARA.update_bus_relation!-Tuple{PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite, String}"><code>IARA.update_bus_relation!</code></a>.</p><pre><code class="language-julia hljs">IARA.update_bus_relation!(
    db,
    &quot;Island&quot;;
    collection = &quot;Zone&quot;,
    relation_type = &quot;id&quot;,
    related_label = &quot;Island Zone&quot;,
)</code></pre><h3 id="Asset-Owners"><a class="docs-heading-anchor" href="#Asset-Owners">Asset Owners</a><a id="Asset-Owners-1"></a><a class="docs-heading-anchor-permalink" href="#Asset-Owners" title="Permalink"></a></h3><p>In the bidding format, we need to define the asset owners that will participate in the market. These owners will be responsible for submitting bids for their assets, which will be represented by Bidding Groups. Each Bidding Group will be associated with a set of assets that belong to the same owner.</p><p>For now, we will define two asset owners: <em>Thermal Owner</em> and <em>Price Taker</em>. The first will assume the role of price maker, while the second will act as a price taker.</p><p>We can add an asset owner to the database using the functionalities <a href="../api_reference.html#IARA.add_asset_owner!-Tuple{PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite}"><code>IARA.add_asset_owner!</code></a>.</p><pre><code class="language-julia hljs">IARA.add_asset_owner!(
    db;
    label = &quot;Thermal Owner&quot;,
)
IARA.add_asset_owner!(
    db;
    label = &quot;Price Taker&quot;,
)</code></pre><h3 id="Bidding-Groups"><a class="docs-heading-anchor" href="#Bidding-Groups">Bidding Groups</a><a id="Bidding-Groups-1"></a><a class="docs-heading-anchor-permalink" href="#Bidding-Groups" title="Permalink"></a></h3><p>Now we can define the Bidding Groups related to the asset owners that we have created earlier. Each Asset Owner will have a single Bidding Group, which will be associated with all their assets.</p><p>In each Bidding Group, we have to define the risk factor (mark-up) that will be applied to the cost of the assets. For this example, we will define a risk factor of 50% for both Bidding Groups.</p><p>We can add a Bidding Group to the database using the method <a href="../api_reference.html#IARA.add_bidding_group!-Tuple{PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite}"><code>IARA.add_bidding_group!</code></a>.</p><pre><code class="language-julia hljs">IARA.add_bidding_group!(
    db;
    label = &quot;Thermal Owner&quot;,
    assetowner_id = &quot;Thermal Owner&quot;,
    risk_factor = [0.5],
    segment_fraction = [1.0],
)
IARA.add_bidding_group!(
    db;
    label = &quot;Price Taker&quot;,
    assetowner_id = &quot;Price Taker&quot;,
    risk_factor = [0.5],
    segment_fraction = [1.0],
)</code></pre><h2 id="Physical-Elements"><a class="docs-heading-anchor" href="#Physical-Elements">Physical Elements</a><a id="Physical-Elements-1"></a><a class="docs-heading-anchor-permalink" href="#Physical-Elements" title="Permalink"></a></h2><h3 id="Demand"><a class="docs-heading-anchor" href="#Demand">Demand</a><a id="Demand-1"></a><a class="docs-heading-anchor-permalink" href="#Demand" title="Permalink"></a></h3><p>This case will have three demand units. We can add them to the database using the function <a href="../api_reference.html#IARA.add_demand_unit!-Tuple{PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite}"><code>IARA.add_demand_unit!</code></a>. We can enable or disable the demand unit. This can be changed by setting the <code>existing</code> attribute to 1 in the <code>parameters</code> time series DataFrame.</p><p>The demand over each period, subperiod and scenario will be defined by a time series file. We will define it at the end of this tutorial.</p><p>For this case, the demand will exist from the beginning.</p><pre><code class="language-julia hljs">IARA.add_demand_unit!(db;
    label = &quot;Demand1&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
    ),
    bus_id = &quot;Island&quot;,
    max_demand = 1.8,
)

IARA.add_demand_unit!(db;
    label = &quot;Demand2&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
    ),
    bus_id = &quot;Island&quot;,
    max_demand = 0.72,
)

IARA.add_demand_unit!(db;
    label = &quot;Demand3&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
    ),
    bus_id = &quot;Island&quot;,
    max_demand = 0.36,
)</code></pre><h3 id="Generation-Units"><a class="docs-heading-anchor" href="#Generation-Units">Generation Units</a><a id="Generation-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Generation-Units" title="Permalink"></a></h3><p>Our case will have a mix of renewable and thermal units. In the table below, we can see some characteristics of each unit.</p><table><tr><th style="text-align: center"><strong>Technology</strong></th><th style="text-align: center"><strong>Name</strong></th><th style="text-align: center"><strong>Owner</strong></th><th style="text-align: center"><strong>Maximum Generation (MW)</strong></th><th style="text-align: center"><strong>Cost (<span>$</span>/MWh)</strong></th></tr><tr><td style="text-align: center">Renewable</td><td style="text-align: center">Solar1</td><td style="text-align: center">Price Taker</td><td style="text-align: center">80</td><td style="text-align: center"></td></tr><tr><td style="text-align: center">Thermal</td><td style="text-align: center">Thermal1</td><td style="text-align: center">Thermal Owner</td><td style="text-align: center">20</td><td style="text-align: center">10</td></tr><tr><td style="text-align: center">Thermal</td><td style="text-align: center">Thermal2</td><td style="text-align: center">Price Taker</td><td style="text-align: center">20</td><td style="text-align: center">30</td></tr><tr><td style="text-align: center">Thermal</td><td style="text-align: center">Thermal3</td><td style="text-align: center">Thermal Owner</td><td style="text-align: center">20</td><td style="text-align: center">100</td></tr><tr><td style="text-align: center">Thermal</td><td style="text-align: center">Thermal4</td><td style="text-align: center">Price Taker</td><td style="text-align: center">20</td><td style="text-align: center">300</td></tr><tr><td style="text-align: center">Thermal</td><td style="text-align: center">Thermal5</td><td style="text-align: center">Price Taker</td><td style="text-align: center">50</td><td style="text-align: center">1000</td></tr><tr><td style="text-align: center">Thermal</td><td style="text-align: center">Thermal6</td><td style="text-align: center">Price Taker</td><td style="text-align: center">50</td><td style="text-align: center">3000</td></tr></table><h3 id="Renewable-Units"><a class="docs-heading-anchor" href="#Renewable-Units">Renewable Units</a><a id="Renewable-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Renewable-Units" title="Permalink"></a></h3><p>We will start by adding a solar unit to the database, using <a href="../api_reference.html#IARA.add_renewable_unit!-Tuple{PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite}"><code>IARA.add_renewable_unit!</code></a>.</p><pre><code class="language-julia hljs">IARA.add_renewable_unit!(
    db;
    label = &quot;Solar1&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
        max_generation = [80.0],
        om_cost = [0.0],
        curtailment_cost = [100.0],
    ),
    biddinggroup_id = &quot;Price Taker&quot;,
    bus_id = &quot;Island&quot;,
)</code></pre><p>The generation of the solar unit requires a time series file. Like the demand, we will define it at the end of this tutorial.</p><h3 id="Thermal-Units"><a class="docs-heading-anchor" href="#Thermal-Units">Thermal Units</a><a id="Thermal-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Thermal-Units" title="Permalink"></a></h3><p>Now we can add the thermal units to the database, using <a href="../api_reference.html#IARA.add_thermal_unit!-Tuple{PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite}"><code>IARA.add_thermal_unit!</code></a>.</p><pre><code class="language-julia hljs">IARA.add_thermal_unit!(
    db;
    label = &quot;Thermal1&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
        max_generation = [20.0],
        om_cost = [10.0],
    ),
    biddinggroup_id = &quot;Thermal Owner&quot;,
    bus_id = &quot;Island&quot;,
)

IARA.add_thermal_unit!(
    db;
    label = &quot;Thermal2&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
        max_generation = [20.0],
        om_cost = [30.0],
    ),
    biddinggroup_id = &quot;Price Taker&quot;,
    bus_id = &quot;Island&quot;,
)

IARA.add_thermal_unit!(
    db;
    label = &quot;Thermal3&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
        max_generation = [20.0],
        om_cost = [100.0],
    ),
    biddinggroup_id = &quot;Thermal Owner&quot;,
    bus_id = &quot;Island&quot;,
)

IARA.add_thermal_unit!(
    db;
    label = &quot;Thermal4&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
        max_generation = [20.0],
        om_cost = [300.0],
    ),
    biddinggroup_id = &quot;Price Taker&quot;,
    bus_id = &quot;Island&quot;,
)

IARA.add_thermal_unit!(
    db;
    label = &quot;Thermal5&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
        max_generation = [50.0],
        om_cost = [1000.0],
    ),
    biddinggroup_id = &quot;Price Taker&quot;,
    bus_id = &quot;Island&quot;,
)

IARA.add_thermal_unit!(
    db;
    label = &quot;Thermal6&quot;,
    parameters = DataFrame(;
        date_time = [DateTime(0)],
        existing = [1],
        max_generation = [50.0],
        om_cost = [3000.0],
    ),
    biddinggroup_id = &quot;Price Taker&quot;,
    bus_id = &quot;Island&quot;,
)</code></pre><h2 id="Time-Series"><a class="docs-heading-anchor" href="#Time-Series">Time Series</a><a id="Time-Series-1"></a><a class="docs-heading-anchor-permalink" href="#Time-Series" title="Permalink"></a></h2><div class="admonition is-info" id="Recap-181b7f94ab320e48"><header class="admonition-header">Recap<a class="admonition-anchor" href="#Recap-181b7f94ab320e48" title="Permalink"></a></header><div class="admonition-body"><p>In the beginning of this tutorial, we defined that there were 4 scenarios, 2 periods and 1 subperiod per period.</p></div></div><h3 id="Loading-time-series-files"><a class="docs-heading-anchor" href="#Loading-time-series-files">Loading time series files</a><a id="Loading-time-series-files-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-time-series-files" title="Permalink"></a></h3><p>Using a text editor, we have created the following CSV files containing time series information about the demand and solar generation:</p><ul><li><code>demands.csv</code></li><li><code>solar_generation.csv</code></li></ul><p>You can find them in the <code>data/case_1</code> folder.</p><p>Let&#39;s take a quick look at the demand file using <a href="../api_reference.html#IARA.time_series_dataframe-Tuple{String}"><code>IARA.time_series_dataframe</code></a>.</p><pre><code class="language-julia hljs">IARA.time_series_dataframe(joinpath(PATH_BASE_CASE, &quot;demands.csv&quot;))</code></pre><div><div style = "float: left;"><span>8×6 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">period</th><th style = "text-align: left;">scenario</th><th style = "text-align: left;">subperiod</th><th style = "text-align: left;">Demand1</th><th style = "text-align: left;">Demand2</th><th style = "text-align: left;">Demand3</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float32" style = "text-align: left;">Float32</th><th title = "Float32" style = "text-align: left;">Float32</th><th title = "Float32" style = "text-align: left;">Float32</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.86656</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.6</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">1</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.6</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">1</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.86656</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1.8</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">2</td><td style = "text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.73344</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">2</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.73344</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">2</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1.8</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">1.0</td></tr></tbody></table></div><p>and the solar generation file</p><pre><code class="language-julia hljs">IARA.time_series_dataframe(joinpath(PATH_BASE_CASE, &quot;solar_generation.csv&quot;))</code></pre><div><div style = "float: left;"><span>8×4 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">period</th><th style = "text-align: left;">scenario</th><th style = "text-align: left;">subperiod</th><th style = "text-align: left;">Solar1</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float32" style = "text-align: left;">Float32</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.250008</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.124992</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">1</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.250008</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">1</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.124992</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.375</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">2</td><td style = "text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.250008</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">2</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.375</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">2</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1</td><td style = "text-align: right;">0.250008</td></tr></tbody></table></div><p>Now, we have to link them to the database.</p><pre><code class="language-julia hljs">IARA.link_time_series_to_file(
    db,
    &quot;RenewableUnit&quot;;
    generation_ex_ante = &quot;solar_generation&quot;,
)

IARA.link_time_series_to_file(
    db,
    &quot;DemandUnit&quot;;
    demand_ex_ante = &quot;demands&quot;,
)</code></pre><h2 id="Closing-the-database"><a class="docs-heading-anchor" href="#Closing-the-database">Closing the database</a><a id="Closing-the-database-1"></a><a class="docs-heading-anchor-permalink" href="#Closing-the-database" title="Permalink"></a></h2><p>Now that we have added all the elements and linked the time series files, we can close the database to run the case with the function <a href="../api_reference.html#IARA.close_study!-Tuple{PSRClassesInterface.PSRDatabaseSQLite.DatabaseSQLite}"><code>IARA.close_study!</code></a>.</p><pre><code class="language-julia hljs">IARA.close_study!(db)</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../build_a_case_from_scratch.html">« Introduction</a><a class="docs-footer-nextpage" href="../bidding_formats.html">Introduction »</a><div class="flexbox-break"></div></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 5 February 2026 20:27">Thursday 5 February 2026</span>. Using Julia version 1.11.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
